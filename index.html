<html lang="en"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6ImQ1OTQzZDdlNWZhYTIxZjcyOTJjMzI3MGY3ZDBjNWJmNDE5MjJmOTciLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwMzg1NDU0NDg2MTI4MDM4NDc0NiIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2Q5MzE1ZWQ2Yzc0NzI0ZmFfRW5nbGlzaFdpdGhCYXJib2RfUHJhY3RpY2UuaHRtbC05NzgifSwiZXhwIjoxNzcwNzA2OTEyLCJpYXQiOjE3NzA3MDMzMTIsImFsZyI6IlJTMjU2In0.JBInMhr54QZR6XQPXjx_u-tfu7M342JwctCkGEY9-whfMgmUFK5lnIW4mWSq1YlEtLFRUyBlNbqiWrEtxK7DCVKwFpxnfHzPlAXeh2KrP8bX7gRdEftp14MqDfgl15blqLnxjQsWzm9zC90rbx8qZwQFqMxswBmZ4Hb64qyCAZFh0JFaZBNbJqZgPW7RecBSVfr5_qP83REoBKExf7vxmzRo1BnTxzh0oLTn3fjQq4sRDkKIoXRvLZynrO6ujtIfImvBrBx0-pw7qqfaHtPWh72-cwL0LJMBkO4n-m_CV0oGxiNqA4DZCkaOg3709azXV7xWb5A7JwI8uJVn9ZWVjA","c_d9315ed6c74724fa_EnglishWithBarbod_Practice.html-978")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-3-pro-image-preview-11-2025","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function(){'use strict';function a(){window.parent.postMessage({type:"interaction"},"*")}window.addEventListener("click",a,{capture:!0,passive:!0});window.addEventListener("touchstart",a,{capture:!0,passive:!0});window.addEventListener("keydown",a,{capture:!0,passive:!0});}).call(this);
</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English with Barbod - Advanced Practice</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and ReactDOM -->
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;family=Merriweather:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .serif { font-family: 'Merriweather', serif; }
        .gradient-text {
            background: linear-gradient(to right, #1e40af, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .correct-answer { background-color: #dcfce7; border-color: #22c55e; color: #15803d; }
        .wrong-answer { background-color: #fee2e2; border-color: #ef4444; color: #b91c1c; }
        
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.sticky{position:sticky}.top-0{top:0px}.z-50{z-index:50}.z-10{z-index:10}.mx-1{margin-left:0.25rem;margin-right:0.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mr-3{margin-right:0.75rem}.mt-1{margin-top:0.25rem}.-mt-10{margin-top:-2.5rem}.mb-8{margin-bottom:2rem}.mt-2{margin-top:0.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.h-4{height:1rem}.min-h-screen{min-height:100vh}.w-24{width:6rem}.w-32{width:8rem}.w-4{width:1rem}.w-full{width:100%}.max-w-4xl{max-width:56rem}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.scroll-mt-48{scroll-margin-top:12rem}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.space-y-12 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(3rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(3rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.whitespace-nowrap{white-space:nowrap}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded{border-radius:0.25rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-amber-100{--tw-border-opacity:1;border-color:rgb(254 243 199 / var(--tw-border-opacity, 1))}.border-blue-100{--tw-border-opacity:1;border-color:rgb(219 234 254 / var(--tw-border-opacity, 1))}.border-emerald-100{--tw-border-opacity:1;border-color:rgb(209 250 229 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-indigo-100{--tw-border-opacity:1;border-color:rgb(224 231 255 / var(--tw-border-opacity, 1))}.border-purple-100{--tw-border-opacity:1;border-color:rgb(243 232 255 / var(--tw-border-opacity, 1))}.border-red-300{--tw-border-opacity:1;border-color:rgb(252 165 165 / var(--tw-border-opacity, 1))}.border-red-500{--tw-border-opacity:1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.bg-amber-50{--tw-bg-opacity:1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-emerald-50{--tw-bg-opacity:1;background-color:rgb(236 253 245 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity:1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity:1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-blue-900{--tw-bg-opacity:1;background-color:rgb(30 58 138 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-1{padding:0.25rem}.p-2{padding:0.5rem}.px-12{padding-left:3rem;padding-right:3rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-12{padding-bottom:3rem}.pb-20{padding-bottom:5rem}.pb-6{padding-bottom:1.5rem}.text-center{text-align:center}.text-justify{text-align:justify}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-relaxed{line-height:1.625}.tracking-widest{letter-spacing:0.1em}.text-amber-900{--tw-text-opacity:1;color:rgb(120 53 15 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity:1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-emerald-900{--tw-text-opacity:1;color:rgb(6 78 59 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-indigo-900{--tw-text-opacity:1;color:rgb(49 46 129 / var(--tw-text-opacity, 1))}.text-purple-900{--tw-text-opacity:1;color:rgb(88 28 135 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-blue-200{--tw-text-opacity:1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity:1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.last\:border-0:last-child{border-width:0px}.last\:pb-0:last-child{padding-bottom:0px}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-amber-200:hover{--tw-border-opacity:1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.hover\:border-blue-200:hover{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.hover\:border-blue-300:hover{--tw-border-opacity:1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.hover\:border-emerald-200:hover{--tw-border-opacity:1;border-color:rgb(167 243 208 / var(--tw-border-opacity, 1))}.hover\:border-indigo-200:hover{--tw-border-opacity:1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.hover\:border-purple-200:hover{--tw-border-opacity:1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.hover\:bg-amber-50:hover{--tw-bg-opacity:1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-50:hover{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-emerald-50:hover{--tw-bg-opacity:1;background-color:rgb(236 253 245 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-50:hover{--tw-bg-opacity:1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-50:hover{--tw-bg-opacity:1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:text-amber-700:hover{--tw-text-opacity:1;color:rgb(180 83 9 / var(--tw-text-opacity, 1))}.hover\:text-blue-700:hover{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.hover\:text-emerald-700:hover{--tw-text-opacity:1;color:rgb(4 120 87 / var(--tw-text-opacity, 1))}.hover\:text-indigo-700:hover{--tw-text-opacity:1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.hover\:text-purple-700:hover{--tw-text-opacity:1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.focus\:border-indigo-500:focus{--tw-border-opacity:1;border-color:rgb(99 102 241 / var(--tw-border-opacity, 1))}.focus\:border-purple-500:focus{--tw-border-opacity:1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-amber-200:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(253 230 138 / var(--tw-ring-opacity, 1))}.focus\:ring-emerald-200:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(167 243 208 / var(--tw-ring-opacity, 1))}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect;

// --- DATA & CONTENT ---

var sections = {
  tenses: {
    title: "1. Present, Past, & Future Perfect",
    review: /*#__PURE__*/React.createElement("div", {
      className: "space-y-2 text-sm text-gray-700"
    }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Present Perfect:"), " ", /*#__PURE__*/React.createElement("em", null, "Have/Has + PP"), ". Unspecified time in the past, or started in past and continues to now. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: I have seen that movie.")), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Past Perfect:"), " ", /*#__PURE__*/React.createElement("em", null, "Had + PP"), ". The \"past of the past\". An action finished before another past action. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: When I arrived, the train had left.")), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Future Perfect:"), " ", /*#__PURE__*/React.createElement("em", null, "Will have + PP"), ". An action that will be completed before a specific time in the future. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: By 2030, humans will have landed on Mars."))),
    questions: [{
      id: "t1",
      q: "By the time the CEO arrives at the meeting tomorrow, the board ______ the decision.",
      options: ["will make", "will have made", "had made", "has made"],
      correct: "will have made",
      explanation: "Future Perfect: An action completed before another future event."
    }, {
      id: "t2",
      q: "I realized I ______ my wallet at home only after I had ordered my meal.",
      options: ["left", "have left", "had left", "was leaving"],
      correct: "had left",
      explanation: "Past Perfect: Leaving the wallet happened before realizing (past of the past)."
    }, {
      id: "t3",
      q: "She ______ as a software engineer for ten years next month.",
      options: ["will have been working", "has worked", "had worked", "is working"],
      correct: "will have been working",
      explanation: "Future Perfect Continuous: Emphasizes the duration up to a specific future point."
    }, {
      id: "t4",
      q: "Look at the pavement! It is wet. It ______.",
      options: ["rained", "had rained", "has rained", "was raining"],
      correct: "has rained",
      explanation: "Present Perfect: Result is visible now (wet pavement), time is unspecified."
    }, {
      id: "t5",
      q: "Nobody ______ from him since he moved to Alaska.",
      options: ["heard", "has heard", "had heard", "will have heard"],
      correct: "has heard",
      explanation: "Present Perfect: Using 'since' to connect past to present."
    }, {
      id: "t6",
      q: "The film ______ by the time we got to the cinema.",
      options: ["already started", "has already started", "had already started", "would start"],
      correct: "had already started",
      explanation: "Past Perfect: The film started before we arrived (past action)."
    }, {
      id: "t7",
      q: "Do you think we ______ the project by the deadline?",
      options: ["finish", "will have finished", "have finished", "had finished"],
      correct: "will have finished",
      explanation: "Future Perfect: completion by a deadline."
    }, {
      id: "t8",
      q: "Whatever happened that night ______ a mystery to this day.",
      options: ["remained", "had remained", "has remained", "will remain"],
      correct: "has remained",
      explanation: "Present Perfect: Started in the past and continues to be true today."
    }, {
      id: "t9",
      q: "Before he became a teacher, he ______ in the army for five years.",
      options: ["served", "has served", "had served", "serves"],
      correct: "had served",
      explanation: "Past Perfect: Service happened before becoming a teacher (past event)."
    }]
  },
  relative: {
    title: "2. Relative Clauses (Complete)",
    review: /*#__PURE__*/React.createElement("div", {
      className: "space-y-2 text-sm text-gray-700"
    }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Defining vs Non-defining:"), " Commas for extra info (Non-defining). No commas for essential info."), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Pronouns:"), " ", /*#__PURE__*/React.createElement("em", null, "Who"), " (people), ", /*#__PURE__*/React.createElement("em", null, "Which"), " (things), ", /*#__PURE__*/React.createElement("em", null, "That"), " (both, informal/defining), ", /*#__PURE__*/React.createElement("em", null, "Whose"), " (possession), ", /*#__PURE__*/React.createElement("em", null, "Whom"), " (objective people)."), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Prepositions:"), " Can go before 'which' or 'whom' (formal) or at the end (informal). ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: The house ", /*#__PURE__*/React.createElement("strong", null, "in which"), " I live... / The house ", /*#__PURE__*/React.createElement("strong", null, "(that)"), " I live ", /*#__PURE__*/React.createElement("strong", null, "in"), "..."))),
    passage: {
      text: ["The Old Manor, ",
      // 0
      "owner passed away last week, is now for sale. It is a place ",
      // 1
      "many legends have been written about. The detective ",
      // 2
      "investigated the case, ",
      // 3
      "name is Sherlock, found a clue. The room ",
      // 4
      "the body was found was locked from the inside. The weapon, ",
      // 5
      "was a heavy candlestick, lay on the floor. The maid, to ",
      // 6
      "the police spoke first, seemed nervous. There was a letter on the desk ",
      // 7
      "content was mysterious. The reason ",
      // 8
      "he committed the crime remains unknown. The day ",
      // 9
      "it happened was rainy. The man ",
      // 10
      "I was telling you about is the prime suspect. This is the case ",
      // 11
      "I am most interested in. The villagers, many of ",
      // 12
      "are superstitious, avoid the house. The company ",
      // 13
      "bought the land plans to demolish it. The secret ",
      // 14
      "he was hiding died with him. He is the only person ",
      // 15
      "I have ever truly feared." // 16
      ]
      // Acceptable answers logic handled in component
    }
  },
  passive: {
    title: "3. Passive Voice",
    review: /*#__PURE__*/React.createElement("div", {
      className: "space-y-2 text-sm text-gray-700"
    }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Formula:"), " ", /*#__PURE__*/React.createElement("em", null, "Be + Past Participle"), ". (Tense is shown in the 'Be' verb)."), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Why?"), " When the action is more important than the doer, or the doer is unknown."), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Challenge:"), " Watch out for continuous forms (being) and perfect forms (been).")),
    questions: [{
      id: "p1",
      q: "Someone has stolen my credit card.",
      a: ["my credit card has been stolen"],
      hint: "Present Perfect Passive"
    }, {
      id: "p2",
      q: "They are repairing the bridge at the moment.",
      a: ["the bridge is being repaired at the moment", "the bridge is being repaired"],
      hint: "Present Continuous Passive"
    }, {
      id: "p3",
      q: "Did the noise frighten the children?",
      a: ["were the children frightened by the noise", "were the children frightened"],
      hint: "Past Simple Question"
    }, {
      id: "p4",
      q: "People say that he is a genius.",
      a: ["it is said that he is a genius", "he is said to be a genius"],
      hint: "Impersonal Passive"
    }, {
      id: "p5",
      q: "We must finish this report by noon.",
      a: ["this report must be finished by noon"],
      hint: "Modal Passive"
    }]
  },
  reported: {
    title: "4. Reported Speech",
    review: /*#__PURE__*/React.createElement("div", {
      className: "space-y-2 text-sm text-gray-700"
    }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Backshift:"), " Present -> Past, Past -> Past Perfect, Will -> Would."), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Time/Place:"), " Now -> Then, Here -> There, Tomorrow -> The next day, Yesterday -> The day before.")),
    questions: [{
      id: "r1",
      q: '"I am working on a new project," said Sarah.',
      a: ["sarah said that she was working on a new project", "sarah said she was working on a new project"]
    }, {
      id: "r2",
      q: '"We visited Japan last year," they told me.',
      a: ["they told me that they had visited japan the year before", "they told me they had visited japan the previous year"]
    }, {
      id: "r3",
      q: '"Will you help me?" she asked him.',
      a: ["she asked him if he would help her", "she asked him whether he would help her"]
    }, {
      id: "r4",
      q: '"Don\'t touch the wire!" the electrician warned us.',
      a: ["the electrician warned us not to touch the wire"]
    }, {
      id: "r5",
      q: '"Where is the nearest station?" the tourist asked.',
      a: ["the tourist asked where the nearest station was"]
    }, {
      id: "r6",
      q: '"I have never been to Paris," he admitted.',
      a: ["he admitted that he had never been to paris", "he admitted he had never been to paris"]
    }, {
      id: "r7",
      q: '"I must leave now," she said.',
      a: ["she said that she had to leave then", "she said she had to leave then"]
    }, {
      id: "r8",
      q: '"Who called you yesterday?" mom asked.',
      a: ["mom asked who had called me the day before", "mom asked who had called me the previous day"]
    }]
  },
  conditionals: {
    title: "5. Conditionals (Zero, 1st, 2nd, 3rd)",
    review: /*#__PURE__*/React.createElement("div", {
      className: "space-y-2 text-sm text-gray-700"
    }, /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "Zero Conditional:"), " ", /*#__PURE__*/React.createElement("em", null, "If + Present, Present"), ". General truths/facts. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: If you heat ice, it melts.")), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "1st Conditional:"), " ", /*#__PURE__*/React.createElement("em", null, "If + Present, Will + Verb"), ". Real possibilities in future. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: If it rains, I will stay home.")), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "2nd Conditional:"), " ", /*#__PURE__*/React.createElement("em", null, "If + Past Simple, Would + Verb"), ". Unreal/Imaginary present. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: If I were rich, I would travel. (I am not rich).")), /*#__PURE__*/React.createElement("p", null, /*#__PURE__*/React.createElement("strong", null, "3rd Conditional:"), " ", /*#__PURE__*/React.createElement("em", null, "If + Past Perfect, Would have + PP"), ". Regrets about the past. ", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-gray-500"
    }, "Ex: If I had known, I would have come. (I didn't know)."))),
    passage: {
      text: ["Last week was a disaster. If I ",
      // 0
      " (check) the weather report, I would have stayed home. But I didn't. I drove to the beach. If you ",
      // 1
      " (drive) during a storm, it is usually dangerous. If I ",
      // 2
      " (be) a better driver, I might not have crashed. But I did. If I ",
      // 3
      " (not/wear) my seatbelt, I would have been seriously hurt. Now I need a new car. If I ",
      // 4
      " (have) enough money next month, I will buy a Tesla. But I am currently broke. If I ",
      // 5
      " (win) the lottery today, I would buy a helicopter instead. My mom always says: 'If you ",
      // 6
      " (work) hard, you succeed.' So I will work hard. If I ",
      // 7
      " (get) a promotion soon, I will be happy. I really regret not studying mechanics in school. If I ",
      // 8
      " (study) cars back then, I would have fixed the engine myself. I often imagine my life differently. If I ",
      // 9
      " (live) in the city center, I wouldn't need a car at all. Anyway, if the bus ",
      // 10
      " (arrive) on time tomorrow, I won't be late for work. By the way, did you know that if water ",
      // 11
      " (freeze), it expands? Random fact. Back to my story: If I ",
      // 12
      " (know) about the traffic jam yesterday, I would have taken the train. If I ",
      // 13
      " (be) the president, I would fix all the roads immediately." // 14
      ],
      answers: [["had checked"], ["drive"], ["were", "was"], ["hadn't worn", "had not worn"], ["have"], ["won"], ["work"], ["get"], ["had studied"], ["lived"], ["arrives"], ["freezes"], ["had known"], ["were", "was"]]
    }
  }
};

// --- HELPER FUNCTIONS ---

var normalizeText = function normalizeText(text) {
  return text.toLowerCase().replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g, "") // remove punctuation
  .replace(/\s{2,}/g, " ") // remove double spaces
  .trim();
};
var checkTextAnswer = function checkTextAnswer(userAnswer, validAnswers) {
  var normalizedUser = normalizeText(userAnswer);
  return validAnswers.some(function (valid) {
    return normalizeText(valid) === normalizedUser;
  });
};

// --- MAIN COMPONENT ---

function App() {
  // State storage
  var _useState = useState({}),
    _useState2 = _slicedToArray(_useState, 2),
    answers = _useState2[0],
    setAnswers = _useState2[1];
  var _useState3 = useState(false),
    _useState4 = _slicedToArray(_useState3, 2),
    submitted = _useState4[0],
    setSubmitted = _useState4[1];
  var _useState5 = useState(0),
    _useState6 = _slicedToArray(_useState5, 2),
    score = _useState6[0],
    setScore = _useState6[1];

  // Update answer helper
  var handleAnswer = function handleAnswer(section, id, value) {
    if (submitted) return; // Prevent changes after submit
    setAnswers(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, "".concat(section, "-").concat(id), value));
    });
  };
  var calculateScore = function calculateScore() {
    var tensesPts = 0;
    sections.tenses.questions.forEach(function (q) {
      if (answers["tenses-".concat(q.id)] === q.correct) tensesPts++;
    });
    var relativePts = 0;
    var relAccept = [["whose"], ["about which", "which", "that"], ["who", "that"], ["whose"], ["where", "in which"], ["which"], ["whom"], ["whose", "of which"], ["why"], ["when", "on which"], ["whom", "who", "that"], ["which", "that"], ["whom"], ["which", "that"], ["that", "which"], ["whom", "who", "that"]];
    relAccept.forEach(function (accepts, idx) {
      var userAns = answers["relative-".concat(idx)];
      if (userAns && checkTextAnswer(userAns, accepts)) relativePts++;
    });
    var passivePts = 0;
    sections.passive.questions.forEach(function (q) {
      if (answers["passive-".concat(q.id)] && checkTextAnswer(answers["passive-".concat(q.id)], q.a)) passivePts++;
    });
    var reportedPts = 0;
    sections.reported.questions.forEach(function (q) {
      if (answers["reported-".concat(q.id)] && checkTextAnswer(answers["reported-".concat(q.id)], q.a)) reportedPts++;
    });
    var conditionalsPts = 0;
    sections.conditionals.passage.answers.forEach(function (accepts, idx) {
      var userAns = answers["conditionals-".concat(idx)];
      if (userAns && checkTextAnswer(userAns, accepts)) conditionalsPts++;
    });
    var total = tensesPts + relativePts + passivePts + reportedPts + conditionalsPts;
    setScore(total);
    setSubmitted(true);

    // Scroll to top to see score
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  };
  var downloadPractice = function downloadPractice() {
    var element = document.createElement("a");
    var file = new Blob([document.documentElement.outerHTML], {
      type: 'text/html'
    });
    element.href = URL.createObjectURL(file);
    element.download = "EnglishWithBarbod_Practice_Adel.html";
    document.body.appendChild(element);
    element.click();
  };

  // Scroll to section handler
  var scrollToSection = function scrollToSection(id) {
    var element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({
        behavior: 'smooth'
      });
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen pb-20"
  }, /*#__PURE__*/React.createElement("header", {
    className: "bg-white shadow-md sticky top-0 z-50 transition-all"
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-4xl mx-auto px-6 py-4 flex justify-between items-center border-b border-gray-100"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl font-bold text-blue-900"
  }, "English with Barbod"), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-gray-500"
  }, "Advanced Practice for Adel")), /*#__PURE__*/React.createElement("button", {
    onClick: downloadPractice,
    className: "bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("svg", {
    className: "w-4 h-4",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24"
  }, /*#__PURE__*/React.createElement("path", {
    strokeLinecap: "round",
    strokeLinejoin: "round",
    strokeWidth: "2",
    d: "M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
  })), "Download App")), /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 border-b border-gray-200"
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-4xl mx-auto px-4 py-2 overflow-x-auto whitespace-nowrap flex gap-2 no-scrollbar"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return scrollToSection('section-tenses');
    },
    className: "px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 transition shadow-sm"
  }, "1. Perfect Tenses"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return scrollToSection('section-relative');
    },
    className: "px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-indigo-50 hover:text-indigo-700 hover:border-indigo-200 transition shadow-sm"
  }, "2. Relative Clauses"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return scrollToSection('section-passive');
    },
    className: "px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 transition shadow-sm"
  }, "3. Passive Voice"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return scrollToSection('section-reported');
    },
    className: "px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-amber-50 hover:text-amber-700 hover:border-amber-200 transition shadow-sm"
  }, "4. Reported Speech"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return scrollToSection('section-conditionals');
    },
    className: "px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-purple-50 hover:text-purple-700 hover:border-purple-200 transition shadow-sm"
  }, "5. Conditionals")))), /*#__PURE__*/React.createElement("main", {
    className: "max-w-4xl mx-auto px-6 py-8 space-y-12"
  }, submitted && /*#__PURE__*/React.createElement("div", {
    className: "bg-blue-900 text-white p-6 rounded-xl shadow-lg text-center animate-fade-in mb-8"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-3xl font-bold mb-2"
  }, "Result"), /*#__PURE__*/React.createElement("p", {
    className: "text-xl"
  }, "You scored ", score, " out of 52"), /*#__PURE__*/React.createElement("p", {
    className: "text-blue-200 text-sm mt-2"
  }, (score / 52 * 100).toFixed(0), "% Accuracy")), /*#__PURE__*/React.createElement("section", {
    id: "section-tenses",
    className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-blue-50 p-6 border-b border-blue-100"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-blue-900 mb-2"
  }, sections.tenses.title), sections.tenses.review), /*#__PURE__*/React.createElement("div", {
    className: "p-6 space-y-8"
  }, sections.tenses.questions.map(function (q, idx) {
    return /*#__PURE__*/React.createElement("div", {
      key: q.id,
      className: "border-b border-gray-100 pb-6 last:border-0 last:pb-0"
    }, /*#__PURE__*/React.createElement("p", {
      className: "font-medium text-gray-800 mb-3"
    }, idx + 1, ". ", q.q), /*#__PURE__*/React.createElement("div", {
      className: "space-y-2"
    }, q.options.map(function (opt) {
      var isSelected = answers["tenses-".concat(q.id)] === opt;
      var isCorrect = submitted && opt === q.correct;
      var isWrong = submitted && isSelected && opt !== q.correct;
      return /*#__PURE__*/React.createElement("label", {
        key: opt,
        className: "flex items-center p-3 rounded-lg border cursor-pointer transition\n                                                    ".concat(isSelected ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-blue-300', "\n                                                    ").concat(isCorrect ? 'correct-answer' : '', "\n                                                    ").concat(isWrong ? 'wrong-answer' : '', "\n                                                ")
      }, /*#__PURE__*/React.createElement("input", {
        type: "radio",
        name: "tenses-".concat(q.id),
        value: opt,
        disabled: submitted,
        onChange: function onChange(e) {
          return handleAnswer('tenses', q.id, e.target.value);
        },
        className: "h-4 w-4 text-blue-600 mr-3"
      }), opt);
    })), submitted && /*#__PURE__*/React.createElement("div", {
      className: "mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"
    }, /*#__PURE__*/React.createElement("strong", null, "Explanation:"), " ", q.explanation));
  }))), /*#__PURE__*/React.createElement("section", {
    id: "section-relative",
    className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-indigo-50 p-6 border-b border-indigo-100"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-indigo-900 mb-2"
  }, sections.relative.title), sections.relative.review), /*#__PURE__*/React.createElement("div", {
    className: "p-8 leading-relaxed text-lg serif text-gray-800"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-center mb-6 text-gray-400 uppercase tracking-widest text-sm font-sans"
  }, "The Mystery of the Manor"), /*#__PURE__*/React.createElement("p", {
    className: "text-justify"
  }, sections.relative.passage.text.map(function (part, i) {
    var relAccept = [["whose"], ["about which", "which", "that"], ["who", "that"], ["whose"], ["where", "in which"], ["which"], ["whom"], ["whose", "of which"], ["why"], ["when", "on which"], ["whom", "who", "that"], ["which", "that"], ["whom"], ["which", "that"], ["that", "which"], ["whom", "who", "that"]];
    var userVal = answers["relative-".concat(i)] || "";
    var isCorrect = submitted && i < relAccept.length && checkTextAnswer(userVal, relAccept[i]);
    return /*#__PURE__*/React.createElement("span", {
      key: i
    }, part, i < relAccept.length && /*#__PURE__*/React.createElement("span", {
      className: "inline-block mx-1"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: userVal,
      disabled: submitted,
      onChange: function onChange(e) {
        return handleAnswer('relative', i, e.target.value);
      },
      className: "border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base\n                                                            ".concat(submitted ? isCorrect ? 'border-green-500 text-green-700 font-bold' : 'border-red-500 text-red-700' : 'border-gray-300', "\n                                                        "),
      placeholder: "(".concat(i + 1, ")")
    }), submitted && !isCorrect && /*#__PURE__*/React.createElement("span", {
      className: "block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10"
    }, relAccept[i][0])));
  })))), /*#__PURE__*/React.createElement("section", {
    id: "section-passive",
    className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-emerald-50 p-6 border-b border-emerald-100"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-emerald-900 mb-2"
  }, sections.passive.title), sections.passive.review), /*#__PURE__*/React.createElement("div", {
    className: "p-6 space-y-6"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-semibold text-gray-500 uppercase"
  }, "Change the following active sentences into passive:"), sections.passive.questions.map(function (q, i) {
    var val = answers["passive-".concat(q.id)] || "";
    var isCorrect = submitted && checkTextAnswer(val, q.a);
    return /*#__PURE__*/React.createElement("div", {
      key: q.id,
      className: "bg-gray-50 p-4 rounded-lg"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-gray-800 font-medium mb-2"
    }, i + 1, ". ", q.q), /*#__PURE__*/React.createElement("input", {
      type: "text",
      className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none\n                                                ".concat(submitted ? isCorrect ? 'border-green-500 bg-green-50' : 'border-red-300 bg-red-50' : 'border-gray-300', "\n                                            "),
      placeholder: "Type passive form here...",
      value: val,
      disabled: submitted,
      onChange: function onChange(e) {
        return handleAnswer('passive', q.id, e.target.value);
      }
    }), submitted && !isCorrect && /*#__PURE__*/React.createElement("div", {
      className: "mt-2 text-sm text-green-700"
    }, /*#__PURE__*/React.createElement("strong", null, "Correct:"), " ", q.a[0]), !submitted && /*#__PURE__*/React.createElement("p", {
      className: "text-xs text-gray-400 mt-1 italic"
    }, "Hint: ", q.hint));
  }))), /*#__PURE__*/React.createElement("section", {
    id: "section-reported",
    className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-amber-50 p-6 border-b border-amber-100"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-amber-900 mb-2"
  }, sections.reported.title), sections.reported.review), /*#__PURE__*/React.createElement("div", {
    className: "p-6 space-y-6"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-semibold text-gray-500 uppercase"
  }, "Rewrite in reported speech:"), sections.reported.questions.map(function (q, i) {
    var val = answers["reported-".concat(q.id)] || "";
    var isCorrect = submitted && checkTextAnswer(val, q.a);
    return /*#__PURE__*/React.createElement("div", {
      key: q.id,
      className: "bg-gray-50 p-4 rounded-lg"
    }, /*#__PURE__*/React.createElement("p", {
      className: "text-gray-800 font-medium mb-2"
    }, i + 1, ". ", q.q), /*#__PURE__*/React.createElement("input", {
      type: "text",
      className: "w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none\n                                                ".concat(submitted ? isCorrect ? 'border-green-500 bg-green-50' : 'border-red-300 bg-red-50' : 'border-gray-300', "\n                                            "),
      placeholder: "Type reported speech here...",
      value: val,
      disabled: submitted,
      onChange: function onChange(e) {
        return handleAnswer('reported', q.id, e.target.value);
      }
    }), submitted && !isCorrect && /*#__PURE__*/React.createElement("div", {
      className: "mt-2 text-sm text-green-700"
    }, /*#__PURE__*/React.createElement("strong", null, "Correct:"), " ", q.a[0]));
  }))), /*#__PURE__*/React.createElement("section", {
    id: "section-conditionals",
    className: "bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-purple-50 p-6 border-b border-purple-100"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold text-purple-900 mb-2"
  }, sections.conditionals.title), sections.conditionals.review), /*#__PURE__*/React.createElement("div", {
    className: "p-8 leading-relaxed text-lg serif text-gray-800"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-center mb-6 text-gray-400 uppercase tracking-widest text-sm font-sans"
  }, "The Unexpected Journey"), /*#__PURE__*/React.createElement("p", {
    className: "text-justify"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-sm block mb-4 text-gray-500 font-sans italic"
  }, "Fill in the blanks with the correct form of the verbs in parentheses."), sections.conditionals.passage.text.map(function (part, i) {
    var acceptedAnswers = sections.conditionals.passage.answers;
    var userVal = answers["conditionals-".concat(i)] || "";

    // Don't render an input after the last text fragment if it's just closing text
    var isLast = i === sections.conditionals.passage.text.length - 1;

    // Check correctness
    var isCorrect = submitted && !isLast && checkTextAnswer(userVal, acceptedAnswers[i]);
    return /*#__PURE__*/React.createElement("span", {
      key: i
    }, part, !isLast && /*#__PURE__*/React.createElement("span", {
      className: "inline-block mx-1"
    }, /*#__PURE__*/React.createElement("input", {
      type: "text",
      value: userVal,
      disabled: submitted,
      onChange: function onChange(e) {
        return handleAnswer('conditionals', i, e.target.value);
      },
      className: "border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base\n                                                            ".concat(submitted ? isCorrect ? 'border-green-500 text-green-700 font-bold' : 'border-red-500 text-red-700' : 'border-gray-300', "\n                                                        "),
      placeholder: "(".concat(i + 1, ")")
    }), submitted && !isCorrect && /*#__PURE__*/React.createElement("span", {
      className: "block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10"
    }, acceptedAnswers[i][0])));
  })))), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-center pb-12"
  }, !submitted ? /*#__PURE__*/React.createElement("button", {
    onClick: calculateScore,
    className: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-12 rounded-full shadow-lg transform hover:scale-105 transition text-lg"
  }, "Submit & Grade") : /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return window.location.reload();
    },
    className: "bg-gray-600 hover:bg-gray-700 text-white font-bold py-4 px-12 rounded-full shadow-lg transition"
  }, "Reset / Try Again")), /*#__PURE__*/React.createElement("footer", {
    className: "text-center text-gray-400 text-sm"
  }, /*#__PURE__*/React.createElement("p", null, "\xA9 English with Barbod | Designed for Adel"))));
}
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0Iiwic2VjdGlvbnMiLCJ0ZW5zZXMiLCJ0aXRsZSIsInJldmlldyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJxdWVzdGlvbnMiLCJpZCIsInEiLCJvcHRpb25zIiwiY29ycmVjdCIsImV4cGxhbmF0aW9uIiwicmVsYXRpdmUiLCJwYXNzYWdlIiwidGV4dCIsInBhc3NpdmUiLCJhIiwiaGludCIsInJlcG9ydGVkIiwiY29uZGl0aW9uYWxzIiwiYW5zd2VycyIsIm5vcm1hbGl6ZVRleHQiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJ0cmltIiwiY2hlY2tUZXh0QW5zd2VyIiwidXNlckFuc3dlciIsInZhbGlkQW5zd2VycyIsIm5vcm1hbGl6ZWRVc2VyIiwic29tZSIsInZhbGlkIiwiQXBwIiwiX3VzZVN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5Iiwic2V0QW5zd2VycyIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0Iiwic3VibWl0dGVkIiwic2V0U3VibWl0dGVkIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzY29yZSIsInNldFNjb3JlIiwiaGFuZGxlQW5zd2VyIiwic2VjdGlvbiIsInZhbHVlIiwicHJldiIsIl9vYmplY3RTcHJlYWQiLCJfZGVmaW5lUHJvcGVydHkiLCJjb25jYXQiLCJjYWxjdWxhdGVTY29yZSIsInRlbnNlc1B0cyIsImZvckVhY2giLCJyZWxhdGl2ZVB0cyIsInJlbEFjY2VwdCIsImFjY2VwdHMiLCJpZHgiLCJ1c2VyQW5zIiwicGFzc2l2ZVB0cyIsInJlcG9ydGVkUHRzIiwiY29uZGl0aW9uYWxzUHRzIiwidG90YWwiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwiZG93bmxvYWRQcmFjdGljZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsImZpbGUiLCJCbG9iIiwiZG9jdW1lbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwidHlwZSIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwic2Nyb2xsVG9TZWN0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJzY3JvbGxJbnRvVmlldyIsIm9uQ2xpY2siLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsInRvRml4ZWQiLCJtYXAiLCJrZXkiLCJvcHQiLCJpc1NlbGVjdGVkIiwiaXNDb3JyZWN0IiwiaXNXcm9uZyIsIm5hbWUiLCJkaXNhYmxlZCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInBhcnQiLCJpIiwidXNlclZhbCIsImxlbmd0aCIsInBsYWNlaG9sZGVyIiwidmFsIiwiYWNjZXB0ZWRBbnN3ZXJzIiwiaXNMYXN0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJyb290IiwiUmVhY3RET00iLCJjcmVhdGVSb290IiwicmVuZGVyIl0sInNvdXJjZXMiOlsiSW5saW5lIEJhYmVsIHNjcmlwdCJdLCJzb3VyY2VzQ29udGVudCI6WyJcblxuICAgIGNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9ID0gUmVhY3Q7XG5cbiAgICAvLyAtLS0gREFUQSAmIENPTlRFTlQgLS0tXG5cbiAgICBjb25zdCBzZWN0aW9ucyA9IHtcbiAgICAgICAgdGVuc2VzOiB7XG4gICAgICAgICAgICB0aXRsZTogXCIxLiBQcmVzZW50LCBQYXN0LCAmIEZ1dHVyZSBQZXJmZWN0XCIsXG4gICAgICAgICAgICByZXZpZXc6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5QcmVzZW50IFBlcmZlY3Q6PC9zdHJvbmc+IDxlbT5IYXZlL0hhcyArIFBQPC9lbT4uIFVuc3BlY2lmaWVkIHRpbWUgaW4gdGhlIHBhc3QsIG9yIHN0YXJ0ZWQgaW4gcGFzdCBhbmQgY29udGludWVzIHRvIG5vdy4gPGJyLz48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5FeDogSSBoYXZlIHNlZW4gdGhhdCBtb3ZpZS48L3NwYW4+PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlBhc3QgUGVyZmVjdDo8L3N0cm9uZz4gPGVtPkhhZCArIFBQPC9lbT4uIFRoZSBcInBhc3Qgb2YgdGhlIHBhc3RcIi4gQW4gYWN0aW9uIGZpbmlzaGVkIGJlZm9yZSBhbm90aGVyIHBhc3QgYWN0aW9uLiA8YnIvPjxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkV4OiBXaGVuIEkgYXJyaXZlZCwgdGhlIHRyYWluIGhhZCBsZWZ0Ljwvc3Bhbj48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+RnV0dXJlIFBlcmZlY3Q6PC9zdHJvbmc+IDxlbT5XaWxsIGhhdmUgKyBQUDwvZW0+LiBBbiBhY3Rpb24gdGhhdCB3aWxsIGJlIGNvbXBsZXRlZCBiZWZvcmUgYSBzcGVjaWZpYyB0aW1lIGluIHRoZSBmdXR1cmUuIDxici8+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+RXg6IEJ5IDIwMzAsIGh1bWFucyB3aWxsIGhhdmUgbGFuZGVkIG9uIE1hcnMuPC9zcGFuPjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBxdWVzdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInQxXCIsXG4gICAgICAgICAgICAgICAgICAgIHE6IFwiQnkgdGhlIHRpbWUgdGhlIENFTyBhcnJpdmVzIGF0IHRoZSBtZWV0aW5nIHRvbW9ycm93LCB0aGUgYm9hcmQgX19fX19fIHRoZSBkZWNpc2lvbi5cIixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wid2lsbCBtYWtlXCIsIFwid2lsbCBoYXZlIG1hZGVcIiwgXCJoYWQgbWFkZVwiLCBcImhhcyBtYWRlXCJdLFxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0OiBcIndpbGwgaGF2ZSBtYWRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIkZ1dHVyZSBQZXJmZWN0OiBBbiBhY3Rpb24gY29tcGxldGVkIGJlZm9yZSBhbm90aGVyIGZ1dHVyZSBldmVudC5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ0MlwiLFxuICAgICAgICAgICAgICAgICAgICBxOiBcIkkgcmVhbGl6ZWQgSSBfX19fX18gbXkgd2FsbGV0IGF0IGhvbWUgb25seSBhZnRlciBJIGhhZCBvcmRlcmVkIG15IG1lYWwuXCIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcImxlZnRcIiwgXCJoYXZlIGxlZnRcIiwgXCJoYWQgbGVmdFwiLCBcIndhcyBsZWF2aW5nXCJdLFxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0OiBcImhhZCBsZWZ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlBhc3QgUGVyZmVjdDogTGVhdmluZyB0aGUgd2FsbGV0IGhhcHBlbmVkIGJlZm9yZSByZWFsaXppbmcgKHBhc3Qgb2YgdGhlIHBhc3QpLlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInQzXCIsXG4gICAgICAgICAgICAgICAgICAgIHE6IFwiU2hlIF9fX19fXyBhcyBhIHNvZnR3YXJlIGVuZ2luZWVyIGZvciB0ZW4geWVhcnMgbmV4dCBtb250aC5cIixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wid2lsbCBoYXZlIGJlZW4gd29ya2luZ1wiLCBcImhhcyB3b3JrZWRcIiwgXCJoYWQgd29ya2VkXCIsIFwiaXMgd29ya2luZ1wiXSxcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogXCJ3aWxsIGhhdmUgYmVlbiB3b3JraW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIkZ1dHVyZSBQZXJmZWN0IENvbnRpbnVvdXM6IEVtcGhhc2l6ZXMgdGhlIGR1cmF0aW9uIHVwIHRvIGEgc3BlY2lmaWMgZnV0dXJlIHBvaW50LlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInQ0XCIsXG4gICAgICAgICAgICAgICAgICAgIHE6IFwiTG9vayBhdCB0aGUgcGF2ZW1lbnQhIEl0IGlzIHdldC4gSXQgX19fX19fLlwiLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJyYWluZWRcIiwgXCJoYWQgcmFpbmVkXCIsIFwiaGFzIHJhaW5lZFwiLCBcIndhcyByYWluaW5nXCJdLFxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0OiBcImhhcyByYWluZWRcIixcbiAgICAgICAgICAgICAgICAgICAgZXhwbGFuYXRpb246IFwiUHJlc2VudCBQZXJmZWN0OiBSZXN1bHQgaXMgdmlzaWJsZSBub3cgKHdldCBwYXZlbWVudCksIHRpbWUgaXMgdW5zcGVjaWZpZWQuXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidDVcIixcbiAgICAgICAgICAgICAgICAgICAgcTogXCJOb2JvZHkgX19fX19fIGZyb20gaGltIHNpbmNlIGhlIG1vdmVkIHRvIEFsYXNrYS5cIixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wiaGVhcmRcIiwgXCJoYXMgaGVhcmRcIiwgXCJoYWQgaGVhcmRcIiwgXCJ3aWxsIGhhdmUgaGVhcmRcIl0sXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IFwiaGFzIGhlYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlByZXNlbnQgUGVyZmVjdDogVXNpbmcgJ3NpbmNlJyB0byBjb25uZWN0IHBhc3QgdG8gcHJlc2VudC5cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJ0NlwiLFxuICAgICAgICAgICAgICAgICAgICBxOiBcIlRoZSBmaWxtIF9fX19fXyBieSB0aGUgdGltZSB3ZSBnb3QgdG8gdGhlIGNpbmVtYS5cIixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wiYWxyZWFkeSBzdGFydGVkXCIsIFwiaGFzIGFscmVhZHkgc3RhcnRlZFwiLCBcImhhZCBhbHJlYWR5IHN0YXJ0ZWRcIiwgXCJ3b3VsZCBzdGFydFwiXSxcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogXCJoYWQgYWxyZWFkeSBzdGFydGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlBhc3QgUGVyZmVjdDogVGhlIGZpbG0gc3RhcnRlZCBiZWZvcmUgd2UgYXJyaXZlZCAocGFzdCBhY3Rpb24pLlwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInQ3XCIsXG4gICAgICAgICAgICAgICAgICAgIHE6IFwiRG8geW91IHRoaW5rIHdlIF9fX19fXyB0aGUgcHJvamVjdCBieSB0aGUgZGVhZGxpbmU/XCIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcImZpbmlzaFwiLCBcIndpbGwgaGF2ZSBmaW5pc2hlZFwiLCBcImhhdmUgZmluaXNoZWRcIiwgXCJoYWQgZmluaXNoZWRcIl0sXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IFwid2lsbCBoYXZlIGZpbmlzaGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIkZ1dHVyZSBQZXJmZWN0OiBjb21wbGV0aW9uIGJ5IGEgZGVhZGxpbmUuXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidDhcIixcbiAgICAgICAgICAgICAgICAgICAgcTogXCJXaGF0ZXZlciBoYXBwZW5lZCB0aGF0IG5pZ2h0IF9fX19fXyBhIG15c3RlcnkgdG8gdGhpcyBkYXkuXCIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcInJlbWFpbmVkXCIsIFwiaGFkIHJlbWFpbmVkXCIsIFwiaGFzIHJlbWFpbmVkXCIsIFwid2lsbCByZW1haW5cIl0sXG4gICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IFwiaGFzIHJlbWFpbmVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlByZXNlbnQgUGVyZmVjdDogU3RhcnRlZCBpbiB0aGUgcGFzdCBhbmQgY29udGludWVzIHRvIGJlIHRydWUgdG9kYXkuXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidDlcIixcbiAgICAgICAgICAgICAgICAgICAgcTogXCJCZWZvcmUgaGUgYmVjYW1lIGEgdGVhY2hlciwgaGUgX19fX19fIGluIHRoZSBhcm15IGZvciBmaXZlIHllYXJzLlwiLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJzZXJ2ZWRcIiwgXCJoYXMgc2VydmVkXCIsIFwiaGFkIHNlcnZlZFwiLCBcInNlcnZlc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogXCJoYWQgc2VydmVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlBhc3QgUGVyZmVjdDogU2VydmljZSBoYXBwZW5lZCBiZWZvcmUgYmVjb21pbmcgYSB0ZWFjaGVyIChwYXN0IGV2ZW50KS5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgcmVsYXRpdmU6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIjIuIFJlbGF0aXZlIENsYXVzZXMgKENvbXBsZXRlKVwiLFxuICAgICAgICAgICAgcmV2aWV3OiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+RGVmaW5pbmcgdnMgTm9uLWRlZmluaW5nOjwvc3Ryb25nPiBDb21tYXMgZm9yIGV4dHJhIGluZm8gKE5vbi1kZWZpbmluZykuIE5vIGNvbW1hcyBmb3IgZXNzZW50aWFsIGluZm8uPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlByb25vdW5zOjwvc3Ryb25nPiA8ZW0+V2hvPC9lbT4gKHBlb3BsZSksIDxlbT5XaGljaDwvZW0+ICh0aGluZ3MpLCA8ZW0+VGhhdDwvZW0+IChib3RoLCBpbmZvcm1hbC9kZWZpbmluZyksIDxlbT5XaG9zZTwvZW0+IChwb3NzZXNzaW9uKSwgPGVtPldob208L2VtPiAob2JqZWN0aXZlIHBlb3BsZSkuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlByZXBvc2l0aW9uczo8L3N0cm9uZz4gQ2FuIGdvIGJlZm9yZSAnd2hpY2gnIG9yICd3aG9tJyAoZm9ybWFsKSBvciBhdCB0aGUgZW5kIChpbmZvcm1hbCkuIDxici8+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+RXg6IFRoZSBob3VzZSA8c3Ryb25nPmluIHdoaWNoPC9zdHJvbmc+IEkgbGl2ZS4uLiAvIFRoZSBob3VzZSA8c3Ryb25nPih0aGF0KTwvc3Ryb25nPiBJIGxpdmUgPHN0cm9uZz5pbjwvc3Ryb25nPi4uLjwvc3Bhbj48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcGFzc2FnZToge1xuICAgICAgICAgICAgICAgIHRleHQ6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJUaGUgT2xkIE1hbm9yLCBcIiwgLy8gMFxuICAgICAgICAgICAgICAgICAgICBcIm93bmVyIHBhc3NlZCBhd2F5IGxhc3Qgd2VlaywgaXMgbm93IGZvciBzYWxlLiBJdCBpcyBhIHBsYWNlIFwiLCAvLyAxXG4gICAgICAgICAgICAgICAgICAgIFwibWFueSBsZWdlbmRzIGhhdmUgYmVlbiB3cml0dGVuIGFib3V0LiBUaGUgZGV0ZWN0aXZlIFwiLCAvLyAyXG4gICAgICAgICAgICAgICAgICAgIFwiaW52ZXN0aWdhdGVkIHRoZSBjYXNlLCBcIiwgLy8gM1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWUgaXMgU2hlcmxvY2ssIGZvdW5kIGEgY2x1ZS4gVGhlIHJvb20gXCIsIC8vIDRcbiAgICAgICAgICAgICAgICAgICAgXCJ0aGUgYm9keSB3YXMgZm91bmQgd2FzIGxvY2tlZCBmcm9tIHRoZSBpbnNpZGUuIFRoZSB3ZWFwb24sIFwiLCAvLyA1XG4gICAgICAgICAgICAgICAgICAgIFwid2FzIGEgaGVhdnkgY2FuZGxlc3RpY2ssIGxheSBvbiB0aGUgZmxvb3IuIFRoZSBtYWlkLCB0byBcIiwgLy8gNlxuICAgICAgICAgICAgICAgICAgICBcInRoZSBwb2xpY2Ugc3Bva2UgZmlyc3QsIHNlZW1lZCBuZXJ2b3VzLiBUaGVyZSB3YXMgYSBsZXR0ZXIgb24gdGhlIGRlc2sgXCIsIC8vIDdcbiAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50IHdhcyBteXN0ZXJpb3VzLiBUaGUgcmVhc29uIFwiLCAvLyA4XG4gICAgICAgICAgICAgICAgICAgIFwiaGUgY29tbWl0dGVkIHRoZSBjcmltZSByZW1haW5zIHVua25vd24uIFRoZSBkYXkgXCIsIC8vIDlcbiAgICAgICAgICAgICAgICAgICAgXCJpdCBoYXBwZW5lZCB3YXMgcmFpbnkuIFRoZSBtYW4gXCIsIC8vIDEwXG4gICAgICAgICAgICAgICAgICAgIFwiSSB3YXMgdGVsbGluZyB5b3UgYWJvdXQgaXMgdGhlIHByaW1lIHN1c3BlY3QuIFRoaXMgaXMgdGhlIGNhc2UgXCIsIC8vIDExXG4gICAgICAgICAgICAgICAgICAgIFwiSSBhbSBtb3N0IGludGVyZXN0ZWQgaW4uIFRoZSB2aWxsYWdlcnMsIG1hbnkgb2YgXCIsIC8vIDEyXG4gICAgICAgICAgICAgICAgICAgIFwiYXJlIHN1cGVyc3RpdGlvdXMsIGF2b2lkIHRoZSBob3VzZS4gVGhlIGNvbXBhbnkgXCIsIC8vIDEzXG4gICAgICAgICAgICAgICAgICAgIFwiYm91Z2h0IHRoZSBsYW5kIHBsYW5zIHRvIGRlbW9saXNoIGl0LiBUaGUgc2VjcmV0IFwiLCAvLyAxNFxuICAgICAgICAgICAgICAgICAgICBcImhlIHdhcyBoaWRpbmcgZGllZCB3aXRoIGhpbS4gSGUgaXMgdGhlIG9ubHkgcGVyc29uIFwiLCAvLyAxNVxuICAgICAgICAgICAgICAgICAgICBcIkkgaGF2ZSBldmVyIHRydWx5IGZlYXJlZC5cIiAvLyAxNlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgLy8gQWNjZXB0YWJsZSBhbnN3ZXJzIGxvZ2ljIGhhbmRsZWQgaW4gY29tcG9uZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBhc3NpdmU6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIjMuIFBhc3NpdmUgVm9pY2VcIixcbiAgICAgICAgICAgIHJldmlldzogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtc20gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkZvcm11bGE6PC9zdHJvbmc+IDxlbT5CZSArIFBhc3QgUGFydGljaXBsZTwvZW0+LiAoVGVuc2UgaXMgc2hvd24gaW4gdGhlICdCZScgdmVyYikuPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPldoeT88L3N0cm9uZz4gV2hlbiB0aGUgYWN0aW9uIGlzIG1vcmUgaW1wb3J0YW50IHRoYW4gdGhlIGRvZXIsIG9yIHRoZSBkb2VyIGlzIHVua25vd24uPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkNoYWxsZW5nZTo8L3N0cm9uZz4gV2F0Y2ggb3V0IGZvciBjb250aW51b3VzIGZvcm1zIChiZWluZykgYW5kIHBlcmZlY3QgZm9ybXMgKGJlZW4pLjwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBxdWVzdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IGlkOiBcInAxXCIsIHE6IFwiU29tZW9uZSBoYXMgc3RvbGVuIG15IGNyZWRpdCBjYXJkLlwiLCBhOiBbXCJteSBjcmVkaXQgY2FyZCBoYXMgYmVlbiBzdG9sZW5cIl0sIGhpbnQ6IFwiUHJlc2VudCBQZXJmZWN0IFBhc3NpdmVcIiB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwicDJcIiwgcTogXCJUaGV5IGFyZSByZXBhaXJpbmcgdGhlIGJyaWRnZSBhdCB0aGUgbW9tZW50LlwiLCBhOiBbXCJ0aGUgYnJpZGdlIGlzIGJlaW5nIHJlcGFpcmVkIGF0IHRoZSBtb21lbnRcIiwgXCJ0aGUgYnJpZGdlIGlzIGJlaW5nIHJlcGFpcmVkXCJdLCBoaW50OiBcIlByZXNlbnQgQ29udGludW91cyBQYXNzaXZlXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInAzXCIsIHE6IFwiRGlkIHRoZSBub2lzZSBmcmlnaHRlbiB0aGUgY2hpbGRyZW4/XCIsIGE6IFtcIndlcmUgdGhlIGNoaWxkcmVuIGZyaWdodGVuZWQgYnkgdGhlIG5vaXNlXCIsIFwid2VyZSB0aGUgY2hpbGRyZW4gZnJpZ2h0ZW5lZFwiXSwgaGludDogXCJQYXN0IFNpbXBsZSBRdWVzdGlvblwiIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogXCJwNFwiLCBxOiBcIlBlb3BsZSBzYXkgdGhhdCBoZSBpcyBhIGdlbml1cy5cIiwgYTogW1wiaXQgaXMgc2FpZCB0aGF0IGhlIGlzIGEgZ2VuaXVzXCIsIFwiaGUgaXMgc2FpZCB0byBiZSBhIGdlbml1c1wiXSwgaGludDogXCJJbXBlcnNvbmFsIFBhc3NpdmVcIiB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwicDVcIiwgcTogXCJXZSBtdXN0IGZpbmlzaCB0aGlzIHJlcG9ydCBieSBub29uLlwiLCBhOiBbXCJ0aGlzIHJlcG9ydCBtdXN0IGJlIGZpbmlzaGVkIGJ5IG5vb25cIl0sIGhpbnQ6IFwiTW9kYWwgUGFzc2l2ZVwiIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgcmVwb3J0ZWQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIjQuIFJlcG9ydGVkIFNwZWVjaFwiLFxuICAgICAgICAgICAgcmV2aWV3OiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+QmFja3NoaWZ0Ojwvc3Ryb25nPiBQcmVzZW50IC0+IFBhc3QsIFBhc3QgLT4gUGFzdCBQZXJmZWN0LCBXaWxsIC0+IFdvdWxkLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5UaW1lL1BsYWNlOjwvc3Ryb25nPiBOb3cgLT4gVGhlbiwgSGVyZSAtPiBUaGVyZSwgVG9tb3Jyb3cgLT4gVGhlIG5leHQgZGF5LCBZZXN0ZXJkYXkgLT4gVGhlIGRheSBiZWZvcmUuPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHF1ZXN0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgaWQ6IFwicjFcIiwgcTogJ1wiSSBhbSB3b3JraW5nIG9uIGEgbmV3IHByb2plY3QsXCIgc2FpZCBTYXJhaC4nLCBhOiBbXCJzYXJhaCBzYWlkIHRoYXQgc2hlIHdhcyB3b3JraW5nIG9uIGEgbmV3IHByb2plY3RcIiwgXCJzYXJhaCBzYWlkIHNoZSB3YXMgd29ya2luZyBvbiBhIG5ldyBwcm9qZWN0XCJdIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogXCJyMlwiLCBxOiAnXCJXZSB2aXNpdGVkIEphcGFuIGxhc3QgeWVhcixcIiB0aGV5IHRvbGQgbWUuJywgYTogW1widGhleSB0b2xkIG1lIHRoYXQgdGhleSBoYWQgdmlzaXRlZCBqYXBhbiB0aGUgeWVhciBiZWZvcmVcIiwgXCJ0aGV5IHRvbGQgbWUgdGhleSBoYWQgdmlzaXRlZCBqYXBhbiB0aGUgcHJldmlvdXMgeWVhclwiXSB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwicjNcIiwgcTogJ1wiV2lsbCB5b3UgaGVscCBtZT9cIiBzaGUgYXNrZWQgaGltLicsIGE6IFtcInNoZSBhc2tlZCBoaW0gaWYgaGUgd291bGQgaGVscCBoZXJcIiwgXCJzaGUgYXNrZWQgaGltIHdoZXRoZXIgaGUgd291bGQgaGVscCBoZXJcIl0gfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInI0XCIsIHE6ICdcIkRvblxcJ3QgdG91Y2ggdGhlIHdpcmUhXCIgdGhlIGVsZWN0cmljaWFuIHdhcm5lZCB1cy4nLCBhOiBbXCJ0aGUgZWxlY3RyaWNpYW4gd2FybmVkIHVzIG5vdCB0byB0b3VjaCB0aGUgd2lyZVwiXSB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwicjVcIiwgcTogJ1wiV2hlcmUgaXMgdGhlIG5lYXJlc3Qgc3RhdGlvbj9cIiB0aGUgdG91cmlzdCBhc2tlZC4nLCBhOiBbXCJ0aGUgdG91cmlzdCBhc2tlZCB3aGVyZSB0aGUgbmVhcmVzdCBzdGF0aW9uIHdhc1wiXSB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwicjZcIiwgcTogJ1wiSSBoYXZlIG5ldmVyIGJlZW4gdG8gUGFyaXMsXCIgaGUgYWRtaXR0ZWQuJywgYTogW1wiaGUgYWRtaXR0ZWQgdGhhdCBoZSBoYWQgbmV2ZXIgYmVlbiB0byBwYXJpc1wiLCBcImhlIGFkbWl0dGVkIGhlIGhhZCBuZXZlciBiZWVuIHRvIHBhcmlzXCJdIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogXCJyN1wiLCBxOiAnXCJJIG11c3QgbGVhdmUgbm93LFwiIHNoZSBzYWlkLicsIGE6IFtcInNoZSBzYWlkIHRoYXQgc2hlIGhhZCB0byBsZWF2ZSB0aGVuXCIsIFwic2hlIHNhaWQgc2hlIGhhZCB0byBsZWF2ZSB0aGVuXCJdIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogXCJyOFwiLCBxOiAnXCJXaG8gY2FsbGVkIHlvdSB5ZXN0ZXJkYXk/XCIgbW9tIGFza2VkLicsIGE6IFtcIm1vbSBhc2tlZCB3aG8gaGFkIGNhbGxlZCBtZSB0aGUgZGF5IGJlZm9yZVwiLCBcIm1vbSBhc2tlZCB3aG8gaGFkIGNhbGxlZCBtZSB0aGUgcHJldmlvdXMgZGF5XCJdIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgY29uZGl0aW9uYWxzOiB7XG4gICAgICAgICAgICB0aXRsZTogXCI1LiBDb25kaXRpb25hbHMgKFplcm8sIDFzdCwgMm5kLCAzcmQpXCIsXG4gICAgICAgICAgICByZXZpZXc6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5aZXJvIENvbmRpdGlvbmFsOjwvc3Ryb25nPiA8ZW0+SWYgKyBQcmVzZW50LCBQcmVzZW50PC9lbT4uIEdlbmVyYWwgdHJ1dGhzL2ZhY3RzLiA8YnIvPjxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkV4OiBJZiB5b3UgaGVhdCBpY2UsIGl0IG1lbHRzLjwvc3Bhbj48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+MXN0IENvbmRpdGlvbmFsOjwvc3Ryb25nPiA8ZW0+SWYgKyBQcmVzZW50LCBXaWxsICsgVmVyYjwvZW0+LiBSZWFsIHBvc3NpYmlsaXRpZXMgaW4gZnV0dXJlLiA8YnIvPjxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkV4OiBJZiBpdCByYWlucywgSSB3aWxsIHN0YXkgaG9tZS48L3NwYW4+PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPjJuZCBDb25kaXRpb25hbDo8L3N0cm9uZz4gPGVtPklmICsgUGFzdCBTaW1wbGUsIFdvdWxkICsgVmVyYjwvZW0+LiBVbnJlYWwvSW1hZ2luYXJ5IHByZXNlbnQuIDxici8+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+RXg6IElmIEkgd2VyZSByaWNoLCBJIHdvdWxkIHRyYXZlbC4gKEkgYW0gbm90IHJpY2gpLjwvc3Bhbj48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+M3JkIENvbmRpdGlvbmFsOjwvc3Ryb25nPiA8ZW0+SWYgKyBQYXN0IFBlcmZlY3QsIFdvdWxkIGhhdmUgKyBQUDwvZW0+LiBSZWdyZXRzIGFib3V0IHRoZSBwYXN0LiA8YnIvPjxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkV4OiBJZiBJIGhhZCBrbm93biwgSSB3b3VsZCBoYXZlIGNvbWUuIChJIGRpZG4ndCBrbm93KS48L3NwYW4+PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHBhc3NhZ2U6IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBbXG4gICAgICAgICAgICAgICAgICAgIFwiTGFzdCB3ZWVrIHdhcyBhIGRpc2FzdGVyLiBJZiBJIFwiLCAvLyAwXG4gICAgICAgICAgICAgICAgICAgIFwiIChjaGVjaykgdGhlIHdlYXRoZXIgcmVwb3J0LCBJIHdvdWxkIGhhdmUgc3RheWVkIGhvbWUuIEJ1dCBJIGRpZG4ndC4gSSBkcm92ZSB0byB0aGUgYmVhY2guIElmIHlvdSBcIiwgLy8gMVxuICAgICAgICAgICAgICAgICAgICBcIiAoZHJpdmUpIGR1cmluZyBhIHN0b3JtLCBpdCBpcyB1c3VhbGx5IGRhbmdlcm91cy4gSWYgSSBcIiwgLy8gMlxuICAgICAgICAgICAgICAgICAgICBcIiAoYmUpIGEgYmV0dGVyIGRyaXZlciwgSSBtaWdodCBub3QgaGF2ZSBjcmFzaGVkLiBCdXQgSSBkaWQuIElmIEkgXCIsIC8vIDNcbiAgICAgICAgICAgICAgICAgICAgXCIgKG5vdC93ZWFyKSBteSBzZWF0YmVsdCwgSSB3b3VsZCBoYXZlIGJlZW4gc2VyaW91c2x5IGh1cnQuIE5vdyBJIG5lZWQgYSBuZXcgY2FyLiBJZiBJIFwiLCAvLyA0XG4gICAgICAgICAgICAgICAgICAgIFwiIChoYXZlKSBlbm91Z2ggbW9uZXkgbmV4dCBtb250aCwgSSB3aWxsIGJ1eSBhIFRlc2xhLiBCdXQgSSBhbSBjdXJyZW50bHkgYnJva2UuIElmIEkgXCIsIC8vIDVcbiAgICAgICAgICAgICAgICAgICAgXCIgKHdpbikgdGhlIGxvdHRlcnkgdG9kYXksIEkgd291bGQgYnV5IGEgaGVsaWNvcHRlciBpbnN0ZWFkLiBNeSBtb20gYWx3YXlzIHNheXM6ICdJZiB5b3UgXCIsIC8vIDZcbiAgICAgICAgICAgICAgICAgICAgXCIgKHdvcmspIGhhcmQsIHlvdSBzdWNjZWVkLicgU28gSSB3aWxsIHdvcmsgaGFyZC4gSWYgSSBcIiwgLy8gN1xuICAgICAgICAgICAgICAgICAgICBcIiAoZ2V0KSBhIHByb21vdGlvbiBzb29uLCBJIHdpbGwgYmUgaGFwcHkuIEkgcmVhbGx5IHJlZ3JldCBub3Qgc3R1ZHlpbmcgbWVjaGFuaWNzIGluIHNjaG9vbC4gSWYgSSBcIiwgLy8gOFxuICAgICAgICAgICAgICAgICAgICBcIiAoc3R1ZHkpIGNhcnMgYmFjayB0aGVuLCBJIHdvdWxkIGhhdmUgZml4ZWQgdGhlIGVuZ2luZSBteXNlbGYuIEkgb2Z0ZW4gaW1hZ2luZSBteSBsaWZlIGRpZmZlcmVudGx5LiBJZiBJIFwiLCAvLyA5XG4gICAgICAgICAgICAgICAgICAgIFwiIChsaXZlKSBpbiB0aGUgY2l0eSBjZW50ZXIsIEkgd291bGRuJ3QgbmVlZCBhIGNhciBhdCBhbGwuIEFueXdheSwgaWYgdGhlIGJ1cyBcIiwgLy8gMTBcbiAgICAgICAgICAgICAgICAgICAgXCIgKGFycml2ZSkgb24gdGltZSB0b21vcnJvdywgSSB3b24ndCBiZSBsYXRlIGZvciB3b3JrLiBCeSB0aGUgd2F5LCBkaWQgeW91IGtub3cgdGhhdCBpZiB3YXRlciBcIiwgLy8gMTFcbiAgICAgICAgICAgICAgICAgICAgXCIgKGZyZWV6ZSksIGl0IGV4cGFuZHM/IFJhbmRvbSBmYWN0LiBCYWNrIHRvIG15IHN0b3J5OiBJZiBJIFwiLCAvLyAxMlxuICAgICAgICAgICAgICAgICAgICBcIiAoa25vdykgYWJvdXQgdGhlIHRyYWZmaWMgamFtIHllc3RlcmRheSwgSSB3b3VsZCBoYXZlIHRha2VuIHRoZSB0cmFpbi4gSWYgSSBcIiwgLy8gMTNcbiAgICAgICAgICAgICAgICAgICAgXCIgKGJlKSB0aGUgcHJlc2lkZW50LCBJIHdvdWxkIGZpeCBhbGwgdGhlIHJvYWRzIGltbWVkaWF0ZWx5LlwiIC8vIDE0XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBhbnN3ZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgIFtcImhhZCBjaGVja2VkXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgW1wiZHJpdmVcIl0sIFxuICAgICAgICAgICAgICAgICAgICBbXCJ3ZXJlXCIsIFwid2FzXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgW1wiaGFkbid0IHdvcm5cIiwgXCJoYWQgbm90IHdvcm5cIl0sIFxuICAgICAgICAgICAgICAgICAgICBbXCJoYXZlXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgW1wid29uXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgW1wid29ya1wiXSwgXG4gICAgICAgICAgICAgICAgICAgIFtcImdldFwiXSwgXG4gICAgICAgICAgICAgICAgICAgIFtcImhhZCBzdHVkaWVkXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgW1wibGl2ZWRcIl0sIFxuICAgICAgICAgICAgICAgICAgICBbXCJhcnJpdmVzXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgW1wiZnJlZXplc1wiXSwgXG4gICAgICAgICAgICAgICAgICAgIFtcImhhZCBrbm93blwiXSwgXG4gICAgICAgICAgICAgICAgICAgIFtcIndlcmVcIiwgXCJ3YXNcIl1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gLS0tIEhFTFBFUiBGVU5DVElPTlMgLS0tXG5cbiAgICBjb25zdCBub3JtYWxpemVUZXh0ID0gKHRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1suLC8jISQlXiYqOzp7fT1cXC1fYH4oKT9cIiddL2csIFwiXCIpIC8vIHJlbW92ZSBwdW5jdHVhdGlvblxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcc3syLH0vZywgXCIgXCIpIC8vIHJlbW92ZSBkb3VibGUgc3BhY2VzXG4gICAgICAgICAgICAudHJpbSgpO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGVja1RleHRBbnN3ZXIgPSAodXNlckFuc3dlciwgdmFsaWRBbnN3ZXJzKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRVc2VyID0gbm9ybWFsaXplVGV4dCh1c2VyQW5zd2VyKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkQW5zd2Vycy5zb21lKHZhbGlkID0+IG5vcm1hbGl6ZVRleHQodmFsaWQpID09PSBub3JtYWxpemVkVXNlcik7XG4gICAgfTtcblxuICAgIC8vIC0tLSBNQUlOIENPTVBPTkVOVCAtLS1cblxuICAgIGZ1bmN0aW9uIEFwcCgpIHtcbiAgICAgICAgLy8gU3RhdGUgc3RvcmFnZVxuICAgICAgICBjb25zdCBbYW5zd2Vycywgc2V0QW5zd2Vyc10gPSB1c2VTdGF0ZSh7fSk7XG4gICAgICAgIGNvbnN0IFtzdWJtaXR0ZWQsIHNldFN1Ym1pdHRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgIGNvbnN0IFtzY29yZSwgc2V0U2NvcmVdID0gdXNlU3RhdGUoMCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGFuc3dlciBoZWxwZXJcbiAgICAgICAgY29uc3QgaGFuZGxlQW5zd2VyID0gKHNlY3Rpb24sIGlkLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHN1Ym1pdHRlZCkgcmV0dXJuOyAvLyBQcmV2ZW50IGNoYW5nZXMgYWZ0ZXIgc3VibWl0XG4gICAgICAgICAgICBzZXRBbnN3ZXJzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgIFtgJHtzZWN0aW9ufS0ke2lkfWBdOiB2YWx1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNhbGN1bGF0ZVNjb3JlID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRlbnNlc1B0cyA9IDA7XG4gICAgICAgICAgICBzZWN0aW9ucy50ZW5zZXMucXVlc3Rpb25zLmZvckVhY2gocSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFuc3dlcnNbYHRlbnNlcy0ke3EuaWR9YF0gPT09IHEuY29ycmVjdCkgdGVuc2VzUHRzKys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHJlbGF0aXZlUHRzID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHJlbEFjY2VwdCA9IFtcbiAgICAgICAgICAgICAgICBbXCJ3aG9zZVwiXSwgW1wiYWJvdXQgd2hpY2hcIiwgXCJ3aGljaFwiLCBcInRoYXRcIl0sIFtcIndob1wiLCBcInRoYXRcIl0sIFtcIndob3NlXCJdLCBcbiAgICAgICAgICAgICAgICBbXCJ3aGVyZVwiLCBcImluIHdoaWNoXCJdLCBbXCJ3aGljaFwiXSwgW1wid2hvbVwiXSwgW1wid2hvc2VcIiwgXCJvZiB3aGljaFwiXSwgXG4gICAgICAgICAgICAgICAgW1wid2h5XCJdLCBbXCJ3aGVuXCIsIFwib24gd2hpY2hcIl0sIFtcIndob21cIiwgXCJ3aG9cIiwgXCJ0aGF0XCJdLCBbXCJ3aGljaFwiLCBcInRoYXRcIl0sIFxuICAgICAgICAgICAgICAgIFtcIndob21cIl0sIFtcIndoaWNoXCIsIFwidGhhdFwiXSwgW1widGhhdFwiLCBcIndoaWNoXCJdLCBbXCJ3aG9tXCIsIFwid2hvXCIsIFwidGhhdFwiXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHJlbEFjY2VwdC5mb3JFYWNoKChhY2NlcHRzLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyQW5zID0gYW5zd2Vyc1tgcmVsYXRpdmUtJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgaWYgKHVzZXJBbnMgJiYgY2hlY2tUZXh0QW5zd2VyKHVzZXJBbnMsIGFjY2VwdHMpKSByZWxhdGl2ZVB0cysrO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBwYXNzaXZlUHRzID0gMDtcbiAgICAgICAgICAgIHNlY3Rpb25zLnBhc3NpdmUucXVlc3Rpb25zLmZvckVhY2gocSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFuc3dlcnNbYHBhc3NpdmUtJHtxLmlkfWBdICYmIGNoZWNrVGV4dEFuc3dlcihhbnN3ZXJzW2BwYXNzaXZlLSR7cS5pZH1gXSwgcS5hKSkgcGFzc2l2ZVB0cysrO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCByZXBvcnRlZFB0cyA9IDA7XG4gICAgICAgICAgICBzZWN0aW9ucy5yZXBvcnRlZC5xdWVzdGlvbnMuZm9yRWFjaChxID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYW5zd2Vyc1tgcmVwb3J0ZWQtJHtxLmlkfWBdICYmIGNoZWNrVGV4dEFuc3dlcihhbnN3ZXJzW2ByZXBvcnRlZC0ke3EuaWR9YF0sIHEuYSkpIHJlcG9ydGVkUHRzKys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IGNvbmRpdGlvbmFsc1B0cyA9IDA7XG4gICAgICAgICAgICBzZWN0aW9ucy5jb25kaXRpb25hbHMucGFzc2FnZS5hbnN3ZXJzLmZvckVhY2goKGFjY2VwdHMsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJBbnMgPSBhbnN3ZXJzW2Bjb25kaXRpb25hbHMtJHtpZHh9YF07XG4gICAgICAgICAgICAgICAgaWYgKHVzZXJBbnMgJiYgY2hlY2tUZXh0QW5zd2VyKHVzZXJBbnMsIGFjY2VwdHMpKSBjb25kaXRpb25hbHNQdHMrKztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCB0b3RhbCA9IHRlbnNlc1B0cyArIHJlbGF0aXZlUHRzICsgcGFzc2l2ZVB0cyArIHJlcG9ydGVkUHRzICsgY29uZGl0aW9uYWxzUHRzO1xuXG4gICAgICAgICAgICBzZXRTY29yZSh0b3RhbCk7XG4gICAgICAgICAgICBzZXRTdWJtaXR0ZWQodHJ1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byB0b3AgdG8gc2VlIHNjb3JlXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkb3dubG9hZFByYWN0aWNlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBCbG9iKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MXSwge3R5cGU6ICd0ZXh0L2h0bWwnfSk7XG4gICAgICAgICAgICBlbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICAgICAgZWxlbWVudC5kb3dubG9hZCA9IFwiRW5nbGlzaFdpdGhCYXJib2RfUHJhY3RpY2VfQWRlbC5odG1sXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5jbGljaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNjcm9sbCB0byBzZWN0aW9uIGhhbmRsZXJcbiAgICAgICAgY29uc3Qgc2Nyb2xsVG9TZWN0aW9uID0gKGlkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBwYi0yMFwiPlxuICAgICAgICAgICAgICAgIHsvKiBIRUFERVIgJiBOQVYgKi99XG4gICAgICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctbWQgc3RpY2t5IHRvcC0wIHotNTAgdHJhbnNpdGlvbi1hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFRvcCBSb3c6IEJyYW5kICYgRG93bmxvYWQgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcHgtNiBweS00IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBib3JkZXItYiBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtOTAwXCI+RW5nbGlzaCB3aXRoIEJhcmJvZDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+QWR2YW5jZWQgUHJhY3RpY2UgZm9yIEFkZWw8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZG93bmxvYWRQcmFjdGljZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIGQ9XCJNNCAxNnYxYTMgMyAwIDAwMyAzaDEwYTMgMyAwIDAwMy0zdi0xbS00LTRsLTQgNG0wIDBsLTQtNG00IDRWNFwiPjwvcGF0aD48L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb3dubG9hZCBBcHBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogTmF2aWdhdGlvbiBSb3cgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcHgtNCBweS0yIG92ZXJmbG93LXgtYXV0byB3aGl0ZXNwYWNlLW5vd3JhcCBmbGV4IGdhcC0yIG5vLXNjcm9sbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2Nyb2xsVG9TZWN0aW9uKCdzZWN0aW9uLXRlbnNlcycpfSBjbGFzc05hbWU9XCJweC00IHB5LTEuNSByb3VuZGVkLWZ1bGwgdGV4dC1zbSBmb250LW1lZGl1bSBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHRleHQtZ3JheS02MDAgaG92ZXI6YmctYmx1ZS01MCBob3Zlcjp0ZXh0LWJsdWUtNzAwIGhvdmVyOmJvcmRlci1ibHVlLTIwMCB0cmFuc2l0aW9uIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLiBQZXJmZWN0IFRlbnNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2Nyb2xsVG9TZWN0aW9uKCdzZWN0aW9uLXJlbGF0aXZlJyl9IGNsYXNzTmFtZT1cInB4LTQgcHktMS41IHJvdW5kZWQtZnVsbCB0ZXh0LXNtIGZvbnQtbWVkaXVtIGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgdGV4dC1ncmF5LTYwMCBob3ZlcjpiZy1pbmRpZ28tNTAgaG92ZXI6dGV4dC1pbmRpZ28tNzAwIGhvdmVyOmJvcmRlci1pbmRpZ28tMjAwIHRyYW5zaXRpb24gc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIuIFJlbGF0aXZlIENsYXVzZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNjcm9sbFRvU2VjdGlvbignc2VjdGlvbi1wYXNzaXZlJyl9IGNsYXNzTmFtZT1cInB4LTQgcHktMS41IHJvdW5kZWQtZnVsbCB0ZXh0LXNtIGZvbnQtbWVkaXVtIGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0yMDAgdGV4dC1ncmF5LTYwMCBob3ZlcjpiZy1lbWVyYWxkLTUwIGhvdmVyOnRleHQtZW1lcmFsZC03MDAgaG92ZXI6Ym9yZGVyLWVtZXJhbGQtMjAwIHRyYW5zaXRpb24gc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMuIFBhc3NpdmUgVm9pY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNjcm9sbFRvU2VjdGlvbignc2VjdGlvbi1yZXBvcnRlZCcpfSBjbGFzc05hbWU9XCJweC00IHB5LTEuNSByb3VuZGVkLWZ1bGwgdGV4dC1zbSBmb250LW1lZGl1bSBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHRleHQtZ3JheS02MDAgaG92ZXI6YmctYW1iZXItNTAgaG92ZXI6dGV4dC1hbWJlci03MDAgaG92ZXI6Ym9yZGVyLWFtYmVyLTIwMCB0cmFuc2l0aW9uIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LiBSZXBvcnRlZCBTcGVlY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNjcm9sbFRvU2VjdGlvbignc2VjdGlvbi1jb25kaXRpb25hbHMnKX0gY2xhc3NOYW1lPVwicHgtNCBweS0xLjUgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW0gYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLXB1cnBsZS01MCBob3Zlcjp0ZXh0LXB1cnBsZS03MDAgaG92ZXI6Ym9yZGVyLXB1cnBsZS0yMDAgdHJhbnNpdGlvbiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNS4gQ29uZGl0aW9uYWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBweC02IHB5LTggc3BhY2UteS0xMlwiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIFNDT1JFIEJPQVJEICovfVxuICAgICAgICAgICAgICAgICAgICB7c3VibWl0dGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS05MDAgdGV4dC13aGl0ZSBwLTYgcm91bmRlZC14bCBzaGFkb3ctbGcgdGV4dC1jZW50ZXIgYW5pbWF0ZS1mYWRlLWluIG1iLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIG1iLTJcIj5SZXN1bHQ8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGxcIj5Zb3Ugc2NvcmVkIHtzY29yZX0gb3V0IG9mIDUyPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS0yMDAgdGV4dC1zbSBtdC0yXCI+eyhzY29yZS81MiAqIDEwMCkudG9GaXhlZCgwKX0lIEFjY3VyYWN5PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFNFQ1RJT04gMTogUEVSRkVDVCBURU5TRVMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGlkPVwic2VjdGlvbi10ZW5zZXNcIiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTJ4bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1ncmF5LTEwMCBvdmVyZmxvdy1oaWRkZW4gc2Nyb2xsLW10LTQ4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsdWUtNTAgcC02IGJvcmRlci1iIGJvcmRlci1ibHVlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtOTAwIG1iLTJcIj57c2VjdGlvbnMudGVuc2VzLnRpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb25zLnRlbnNlcy5yZXZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IHNwYWNlLXktOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9ucy50ZW5zZXMucXVlc3Rpb25zLm1hcCgocSwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtxLmlkfSBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS0xMDAgcGItNiBsYXN0OmJvcmRlci0wIGxhc3Q6cGItMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMCBtYi0zXCI+e2lkeCArIDF9LiB7cS5xfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Eub3B0aW9ucy5tYXAob3B0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IGFuc3dlcnNbYHRlbnNlcy0ke3EuaWR9YF0gPT09IG9wdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gc3VibWl0dGVkICYmIG9wdCA9PT0gcS5jb3JyZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1dyb25nID0gc3VibWl0dGVkICYmIGlzU2VsZWN0ZWQgJiYgb3B0ICE9PSBxLmNvcnJlY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGtleT17b3B0fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBwLTMgcm91bmRlZC1sZyBib3JkZXIgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aXNTZWxlY3RlZCA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCcgOiAnYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ibHVlLTMwMCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc0NvcnJlY3QgPyAnY29ycmVjdC1hbnN3ZXInIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc1dyb25nID8gJ3dyb25nLWFuc3dlcicgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2B0ZW5zZXMtJHtxLmlkfWB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17b3B0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUFuc3dlcigndGVuc2VzJywgcS5pZCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtYmx1ZS02MDAgbXItM1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3B0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3VibWl0dGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LWJsdWUtODAwIGJnLWJsdWUtNTAgcC0yIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5FeHBsYW5hdGlvbjo8L3N0cm9uZz4ge3EuZXhwbGFuYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFNFQ1RJT04gMjogUkVMQVRJVkUgQ0xBVVNFUyAqL31cbiAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gaWQ9XCJzZWN0aW9uLXJlbGF0aXZlXCIgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC0yeGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0xMDAgb3ZlcmZsb3ctaGlkZGVuIHNjcm9sbC1tdC00OFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1pbmRpZ28tNTAgcC02IGJvcmRlci1iIGJvcmRlci1pbmRpZ28tMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtaW5kaWdvLTkwMCBtYi0yXCI+e3NlY3Rpb25zLnJlbGF0aXZlLnRpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb25zLnJlbGF0aXZlLnJldmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTggbGVhZGluZy1yZWxheGVkIHRleHQtbGcgc2VyaWYgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1jZW50ZXIgbWItNiB0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlc3QgdGV4dC1zbSBmb250LXNhbnNcIj5UaGUgTXlzdGVyeSBvZiB0aGUgTWFub3I8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtanVzdGlmeVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbnMucmVsYXRpdmUucGFzc2FnZS50ZXh0Lm1hcCgocGFydCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsQWNjZXB0ID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIndob3NlXCJdLCBbXCJhYm91dCB3aGljaFwiLCBcIndoaWNoXCIsIFwidGhhdFwiXSwgW1wid2hvXCIsIFwidGhhdFwiXSwgW1wid2hvc2VcIl0sIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcIndoZXJlXCIsIFwiaW4gd2hpY2hcIl0sIFtcIndoaWNoXCJdLCBbXCJ3aG9tXCJdLCBbXCJ3aG9zZVwiLCBcIm9mIHdoaWNoXCJdLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJ3aHlcIl0sIFtcIndoZW5cIiwgXCJvbiB3aGljaFwiXSwgW1wid2hvbVwiLCBcIndob1wiLCBcInRoYXRcIl0sIFtcIndoaWNoXCIsIFwidGhhdFwiXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wid2hvbVwiXSwgW1wid2hpY2hcIiwgXCJ0aGF0XCJdLCBbXCJ0aGF0XCIsIFwid2hpY2hcIl0sIFtcIndob21cIiwgXCJ3aG9cIiwgXCJ0aGF0XCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyVmFsID0gYW5zd2Vyc1tgcmVsYXRpdmUtJHtpfWBdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvcnJlY3QgPSBzdWJtaXR0ZWQgJiYgaSA8IHJlbEFjY2VwdC5sZW5ndGggJiYgY2hlY2tUZXh0QW5zd2VyKHVzZXJWYWwsIHJlbEFjY2VwdFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpIDwgcmVsQWNjZXB0Lmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtYmxvY2sgbXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJWYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXR0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQW5zd2VyKCdyZWxhdGl2ZScsIGksIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyLWItMiB3LTI0IHRleHQtY2VudGVyIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItaW5kaWdvLTUwMCBiZy10cmFuc3BhcmVudCBmb250LXNhbnMgdGV4dC1iYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3N1Ym1pdHRlZCA/IChpc0NvcnJlY3QgPyAnYm9yZGVyLWdyZWVuLTUwMCB0ZXh0LWdyZWVuLTcwMCBmb250LWJvbGQnIDogJ2JvcmRlci1yZWQtNTAwIHRleHQtcmVkLTcwMCcpIDogJ2JvcmRlci1ncmF5LTMwMCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgKCR7aSsxfSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1Ym1pdHRlZCAmJiAhaXNDb3JyZWN0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyZWVuLTYwMCBmb250LXNhbnMgYWJzb2x1dGUgLW10LTEwIGJnLXdoaXRlIHAtMSBib3JkZXIgcm91bmRlZCBzaGFkb3ctbGcgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbEFjY2VwdFtpXVswXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTRUNUSU9OIDM6IFBBU1NJVkUgVk9JQ0UgKi99XG4gICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGlkPVwic2VjdGlvbi1wYXNzaXZlXCIgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC0yeGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0xMDAgb3ZlcmZsb3ctaGlkZGVuIHNjcm9sbC1tdC00OFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1lbWVyYWxkLTUwIHAtNiBib3JkZXItYiBib3JkZXItZW1lcmFsZC0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1lbWVyYWxkLTkwMCBtYi0yXCI+e3NlY3Rpb25zLnBhc3NpdmUudGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbnMucGFzc2l2ZS5yZXZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZVwiPkNoYW5nZSB0aGUgZm9sbG93aW5nIGFjdGl2ZSBzZW50ZW5jZXMgaW50byBwYXNzaXZlOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbnMucGFzc2l2ZS5xdWVzdGlvbnMubWFwKChxLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGFuc3dlcnNbYHBhc3NpdmUtJHtxLmlkfWBdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29ycmVjdCA9IHN1Ym1pdHRlZCAmJiBjaGVja1RleHRBbnN3ZXIodmFsLCBxLmEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3EuaWR9IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktODAwIGZvbnQtbWVkaXVtIG1iLTJcIj57aSsxfS4ge3EucX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcC0zIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWVtZXJhbGQtMjAwIG91dGxpbmUtbm9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdWJtaXR0ZWQgPyAoaXNDb3JyZWN0ID8gJ2JvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAnIDogJ2JvcmRlci1yZWQtMzAwIGJnLXJlZC01MCcpIDogJ2JvcmRlci1ncmF5LTMwMCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBwYXNzaXZlIGZvcm0gaGVyZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXR0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQW5zd2VyKCdwYXNzaXZlJywgcS5pZCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1Ym1pdHRlZCAmJiAhaXNDb3JyZWN0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1ncmVlbi03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+Q29ycmVjdDo8L3N0cm9uZz4ge3EuYVswXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IXN1Ym1pdHRlZCAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgbXQtMSBpdGFsaWNcIj5IaW50OiB7cS5oaW50fTwvcD59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgICAgICAgICAgICAgICB7LyogU0VDVElPTiA0OiBSRVBPUlRFRCBTUEVFQ0ggKi99XG4gICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uIGlkPVwic2VjdGlvbi1yZXBvcnRlZFwiIGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWdyYXktMTAwIG92ZXJmbG93LWhpZGRlbiBzY3JvbGwtbXQtNDhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYW1iZXItNTAgcC02IGJvcmRlci1iIGJvcmRlci1hbWJlci0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1hbWJlci05MDAgbWItMlwiPntzZWN0aW9ucy5yZXBvcnRlZC50aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9ucy5yZXBvcnRlZC5yZXZpZXd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZVwiPlJld3JpdGUgaW4gcmVwb3J0ZWQgc3BlZWNoOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbnMucmVwb3J0ZWQucXVlc3Rpb25zLm1hcCgocSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBhbnN3ZXJzW2ByZXBvcnRlZC0ke3EuaWR9YF0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gc3VibWl0dGVkICYmIGNoZWNrVGV4dEFuc3dlcih2YWwsIHEuYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cS5pZH0gY2xhc3NOYW1lPVwiYmctZ3JheS01MCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDAgZm9udC1tZWRpdW0gbWItMlwiPntpKzF9LiB7cS5xfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTMgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYW1iZXItMjAwIG91dGxpbmUtbm9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdWJtaXR0ZWQgPyAoaXNDb3JyZWN0ID8gJ2JvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAnIDogJ2JvcmRlci1yZWQtMzAwIGJnLXJlZC01MCcpIDogJ2JvcmRlci1ncmF5LTMwMCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSByZXBvcnRlZCBzcGVlY2ggaGVyZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2YWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXR0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQW5zd2VyKCdyZXBvcnRlZCcsIHEuaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJtaXR0ZWQgJiYgIWlzQ29ycmVjdCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtZ3JlZW4tNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkNvcnJlY3Q6PC9zdHJvbmc+IHtxLmFbMF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cblxuICAgICAgICAgICAgICAgICAgICAgey8qIFNFQ1RJT04gNTogQ09ORElUSU9OQUxTIChORVcpICovfVxuICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gaWQ9XCJzZWN0aW9uLWNvbmRpdGlvbmFsc1wiIGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWdyYXktMTAwIG92ZXJmbG93LWhpZGRlbiBzY3JvbGwtbXQtNDhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHVycGxlLTUwIHAtNiBib3JkZXItYiBib3JkZXItcHVycGxlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXB1cnBsZS05MDAgbWItMlwiPntzZWN0aW9ucy5jb25kaXRpb25hbHMudGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbnMuY29uZGl0aW9uYWxzLnJldmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTggbGVhZGluZy1yZWxheGVkIHRleHQtbGcgc2VyaWYgdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1jZW50ZXIgbWItNiB0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlc3QgdGV4dC1zbSBmb250LXNhbnNcIj5UaGUgVW5leHBlY3RlZCBKb3VybmV5PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWp1c3RpZnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBibG9jayBtYi00IHRleHQtZ3JheS01MDAgZm9udC1zYW5zIGl0YWxpY1wiPkZpbGwgaW4gdGhlIGJsYW5rcyB3aXRoIHRoZSBjb3JyZWN0IGZvcm0gb2YgdGhlIHZlcmJzIGluIHBhcmVudGhlc2VzLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb25zLmNvbmRpdGlvbmFscy5wYXNzYWdlLnRleHQubWFwKChwYXJ0LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NlcHRlZEFuc3dlcnMgPSBzZWN0aW9ucy5jb25kaXRpb25hbHMucGFzc2FnZS5hbnN3ZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclZhbCA9IGFuc3dlcnNbYGNvbmRpdGlvbmFscy0ke2l9YF0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVuZGVyIGFuIGlucHV0IGFmdGVyIHRoZSBsYXN0IHRleHQgZnJhZ21lbnQgaWYgaXQncyBqdXN0IGNsb3NpbmcgdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gc2VjdGlvbnMuY29uZGl0aW9uYWxzLnBhc3NhZ2UudGV4dC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBjb3JyZWN0bmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gc3VibWl0dGVkICYmICFpc0xhc3QgJiYgY2hlY2tUZXh0QW5zd2VyKHVzZXJWYWwsIGFjY2VwdGVkQW5zd2Vyc1tpXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshaXNMYXN0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dXNlclZhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVBbnN3ZXIoJ2NvbmRpdGlvbmFscycsIGksIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyLWItMiB3LTMyIHRleHQtY2VudGVyIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItcHVycGxlLTUwMCBiZy10cmFuc3BhcmVudCBmb250LXNhbnMgdGV4dC1iYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3N1Ym1pdHRlZCA/IChpc0NvcnJlY3QgPyAnYm9yZGVyLWdyZWVuLTUwMCB0ZXh0LWdyZWVuLTcwMCBmb250LWJvbGQnIDogJ2JvcmRlci1yZWQtNTAwIHRleHQtcmVkLTcwMCcpIDogJ2JvcmRlci1ncmF5LTMwMCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtgKCR7aSsxfSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1Ym1pdHRlZCAmJiAhaXNDb3JyZWN0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyZWVuLTYwMCBmb250LXNhbnMgYWJzb2x1dGUgLW10LTEwIGJnLXdoaXRlIHAtMSBib3JkZXIgcm91bmRlZCBzaGFkb3ctbGcgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FjY2VwdGVkQW5zd2Vyc1tpXVswXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBBQ1RJT05TICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgcGItMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHshc3VibWl0dGVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NhbGN1bGF0ZVNjb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS00IHB4LTEyIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNSB0cmFuc2l0aW9uIHRleHQtbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3VibWl0ICYgR3JhZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS00IHB4LTEyIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNldCAvIFRyeSBBZ2FpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNDAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPsKpIEVuZ2xpc2ggd2l0aCBCYXJib2QgfCBEZXNpZ25lZCBmb3IgQWRlbDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgICAgICAgICAgPC9tYWluPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSk7XG4gICAgcm9vdC5yZW5kZXIoPEFwcCAvPik7XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFSSxJQUFBQSxNQUFBLEdBQWdDQyxLQUFLO0VBQTdCQyxRQUFRLEdBQUFGLE1BQUEsQ0FBUkUsUUFBUTtFQUFFQyxTQUFTLEdBQUFILE1BQUEsQ0FBVEcsU0FBUzs7QUFFM0I7O0FBRUEsSUFBTUMsUUFBUSxHQUFHO0VBQ2JDLE1BQU0sRUFBRTtJQUNKQyxLQUFLLEVBQUUsb0NBQW9DO0lBQzNDQyxNQUFNLGVBQ0ZOLEtBQUEsQ0FBQU8sYUFBQTtNQUFLQyxTQUFTLEVBQUM7SUFBaUMsZ0JBQzVDUixLQUFBLENBQUFPLGFBQUEseUJBQUdQLEtBQUEsQ0FBQU8sYUFBQSxpQkFBUSxrQkFBd0IsQ0FBQyxLQUFDLGVBQUFQLEtBQUEsQ0FBQU8sYUFBQSxhQUFJLGVBQWlCLENBQUMsNkVBQXlFLGVBQUFQLEtBQUEsQ0FBQU8sYUFBQSxXQUFJLENBQUMsZUFBQVAsS0FBQSxDQUFBTyxhQUFBO01BQU1DLFNBQVMsRUFBQztJQUF1QixHQUFDLDZCQUFpQyxDQUFJLENBQUMsZUFDdk5SLEtBQUEsQ0FBQU8sYUFBQSx5QkFBR1AsS0FBQSxDQUFBTyxhQUFBLGlCQUFRLGVBQXFCLENBQUMsS0FBQyxlQUFBUCxLQUFBLENBQUFPLGFBQUEsYUFBSSxVQUFZLENBQUMsK0VBQXlFLGVBQUFQLEtBQUEsQ0FBQU8sYUFBQSxXQUFJLENBQUMsZUFBQVAsS0FBQSxDQUFBTyxhQUFBO01B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</script></head>
<body>

<div id="root"><div class="min-h-screen pb-20"><header class="bg-white shadow-md sticky top-0 z-50 transition-all"><div class="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center border-b border-gray-100"><div><h1 class="text-2xl font-bold text-blue-900">English with Barbod</h1><p class="text-sm text-gray-500">Advanced Practice for Adel</p></div><button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>Download App</button></div><div class="bg-gray-50 border-b border-gray-200"><div class="max-w-4xl mx-auto px-4 py-2 overflow-x-auto whitespace-nowrap flex gap-2 no-scrollbar"><button class="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 transition shadow-sm">1. Perfect Tenses</button><button class="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-indigo-50 hover:text-indigo-700 hover:border-indigo-200 transition shadow-sm">2. Relative Clauses</button><button class="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 transition shadow-sm">3. Passive Voice</button><button class="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-amber-50 hover:text-amber-700 hover:border-amber-200 transition shadow-sm">4. Reported Speech</button><button class="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-purple-50 hover:text-purple-700 hover:border-purple-200 transition shadow-sm">5. Conditionals</button></div></div></header><main class="max-w-4xl mx-auto px-6 py-8 space-y-12"><div class="bg-blue-900 text-white p-6 rounded-xl shadow-lg text-center animate-fade-in mb-8"><h2 class="text-3xl font-bold mb-2">Result</h2><p class="text-xl">You scored 0 out of 52</p><p class="text-blue-200 text-sm mt-2">0% Accuracy</p></div><section id="section-tenses" class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"><div class="bg-blue-50 p-6 border-b border-blue-100"><h2 class="text-xl font-bold text-blue-900 mb-2">1. Present, Past, &amp; Future Perfect</h2><div class="space-y-2 text-sm text-gray-700"><p><strong>Present Perfect:</strong> <em>Have/Has + PP</em>. Unspecified time in the past, or started in past and continues to now. <br><span class="text-xs text-gray-500">Ex: I have seen that movie.</span></p><p><strong>Past Perfect:</strong> <em>Had + PP</em>. The "past of the past". An action finished before another past action. <br><span class="text-xs text-gray-500">Ex: When I arrived, the train had left.</span></p><p><strong>Future Perfect:</strong> <em>Will have + PP</em>. An action that will be completed before a specific time in the future. <br><span class="text-xs text-gray-500">Ex: By 2030, humans will have landed on Mars.</span></p></div></div><div class="p-6 space-y-8"><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">1. By the time the CEO arrives at the meeting tomorrow, the board ______ the decision.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t1" class="h-4 w-4 text-blue-600 mr-3" value="will make" disabled="">will make</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t1" class="h-4 w-4 text-blue-600 mr-3" value="will have made" disabled="">will have made</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t1" class="h-4 w-4 text-blue-600 mr-3" value="had made" disabled="">had made</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t1" class="h-4 w-4 text-blue-600 mr-3" value="has made" disabled="">has made</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Future Perfect: An action completed before another future event.</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">2. I realized I ______ my wallet at home only after I had ordered my meal.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t2" class="h-4 w-4 text-blue-600 mr-3" value="left" disabled="">left</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t2" class="h-4 w-4 text-blue-600 mr-3" value="have left" disabled="">have left</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t2" class="h-4 w-4 text-blue-600 mr-3" value="had left" disabled="">had left</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t2" class="h-4 w-4 text-blue-600 mr-3" value="was leaving" disabled="">was leaving</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Past Perfect: Leaving the wallet happened before realizing (past of the past).</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">3. She ______ as a software engineer for ten years next month.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t3" class="h-4 w-4 text-blue-600 mr-3" value="will have been working" disabled="">will have been working</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t3" class="h-4 w-4 text-blue-600 mr-3" value="has worked" disabled="">has worked</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t3" class="h-4 w-4 text-blue-600 mr-3" value="had worked" disabled="">had worked</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t3" class="h-4 w-4 text-blue-600 mr-3" value="is working" disabled="">is working</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Future Perfect Continuous: Emphasizes the duration up to a specific future point.</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">4. Look at the pavement! It is wet. It ______.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t4" class="h-4 w-4 text-blue-600 mr-3" value="rained" disabled="">rained</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t4" class="h-4 w-4 text-blue-600 mr-3" value="had rained" disabled="">had rained</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t4" class="h-4 w-4 text-blue-600 mr-3" value="has rained" disabled="">has rained</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t4" class="h-4 w-4 text-blue-600 mr-3" value="was raining" disabled="">was raining</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Present Perfect: Result is visible now (wet pavement), time is unspecified.</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">5. Nobody ______ from him since he moved to Alaska.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t5" class="h-4 w-4 text-blue-600 mr-3" value="heard" disabled="">heard</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t5" class="h-4 w-4 text-blue-600 mr-3" value="has heard" disabled="">has heard</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t5" class="h-4 w-4 text-blue-600 mr-3" value="had heard" disabled="">had heard</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t5" class="h-4 w-4 text-blue-600 mr-3" value="will have heard" disabled="">will have heard</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Present Perfect: Using 'since' to connect past to present.</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">6. The film ______ by the time we got to the cinema.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t6" class="h-4 w-4 text-blue-600 mr-3" value="already started" disabled="">already started</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t6" class="h-4 w-4 text-blue-600 mr-3" value="has already started" disabled="">has already started</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t6" class="h-4 w-4 text-blue-600 mr-3" value="had already started" disabled="">had already started</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t6" class="h-4 w-4 text-blue-600 mr-3" value="would start" disabled="">would start</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Past Perfect: The film started before we arrived (past action).</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">7. Do you think we ______ the project by the deadline?</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t7" class="h-4 w-4 text-blue-600 mr-3" value="finish" disabled="">finish</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t7" class="h-4 w-4 text-blue-600 mr-3" value="will have finished" disabled="">will have finished</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t7" class="h-4 w-4 text-blue-600 mr-3" value="have finished" disabled="">have finished</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t7" class="h-4 w-4 text-blue-600 mr-3" value="had finished" disabled="">had finished</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Future Perfect: completion by a deadline.</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">8. Whatever happened that night ______ a mystery to this day.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t8" class="h-4 w-4 text-blue-600 mr-3" value="remained" disabled="">remained</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t8" class="h-4 w-4 text-blue-600 mr-3" value="had remained" disabled="">had remained</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t8" class="h-4 w-4 text-blue-600 mr-3" value="has remained" disabled="">has remained</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t8" class="h-4 w-4 text-blue-600 mr-3" value="will remain" disabled="">will remain</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Present Perfect: Started in the past and continues to be true today.</div></div><div class="border-b border-gray-100 pb-6 last:border-0 last:pb-0"><p class="font-medium text-gray-800 mb-3">9. Before he became a teacher, he ______ in the army for five years.</p><div class="space-y-2"><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t9" class="h-4 w-4 text-blue-600 mr-3" value="served" disabled="">served</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t9" class="h-4 w-4 text-blue-600 mr-3" value="has served" disabled="">has served</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    correct-answer
                                                    
                                                "><input type="radio" name="tenses-t9" class="h-4 w-4 text-blue-600 mr-3" value="had served" disabled="">had served</label><label class="flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    border-gray-200 hover:border-blue-300
                                                    
                                                    
                                                "><input type="radio" name="tenses-t9" class="h-4 w-4 text-blue-600 mr-3" value="serves" disabled="">serves</label></div><div class="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded"><strong>Explanation:</strong> Past Perfect: Service happened before becoming a teacher (past event).</div></div></div></section><section id="section-relative" class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"><div class="bg-indigo-50 p-6 border-b border-indigo-100"><h2 class="text-xl font-bold text-indigo-900 mb-2">2. Relative Clauses (Complete)</h2><div class="space-y-2 text-sm text-gray-700"><p><strong>Defining vs Non-defining:</strong> Commas for extra info (Non-defining). No commas for essential info.</p><p><strong>Pronouns:</strong> <em>Who</em> (people), <em>Which</em> (things), <em>That</em> (both, informal/defining), <em>Whose</em> (possession), <em>Whom</em> (objective people).</p><p><strong>Prepositions:</strong> Can go before 'which' or 'whom' (formal) or at the end (informal). <br><span class="text-xs text-gray-500">Ex: The house <strong>in which</strong> I live... / The house <strong>(that)</strong> I live <strong>in</strong>...</span></p></div></div><div class="p-8 leading-relaxed text-lg serif text-gray-800"><h3 class="font-bold text-center mb-6 text-gray-400 uppercase tracking-widest text-sm font-sans">The Mystery of the Manor</h3><p class="text-justify"><span>The Old Manor, <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(1)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whose</span></span></span><span>owner passed away last week, is now for sale. It is a place <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(2)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">about which</span></span></span><span>many legends have been written about. The detective <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(3)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">who</span></span></span><span>investigated the case, <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(4)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whose</span></span></span><span>name is Sherlock, found a clue. The room <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(5)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">where</span></span></span><span>the body was found was locked from the inside. The weapon, <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(6)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">which</span></span></span><span>was a heavy candlestick, lay on the floor. The maid, to <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(7)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whom</span></span></span><span>the police spoke first, seemed nervous. There was a letter on the desk <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(8)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whose</span></span></span><span>content was mysterious. The reason <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(9)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">why</span></span></span><span>he committed the crime remains unknown. The day <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(10)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">when</span></span></span><span>it happened was rainy. The man <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(11)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whom</span></span></span><span>I was telling you about is the prime suspect. This is the case <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(12)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">which</span></span></span><span>I am most interested in. The villagers, many of <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(13)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whom</span></span></span><span>are superstitious, avoid the house. The company <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(14)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">which</span></span></span><span>bought the land plans to demolish it. The secret <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(15)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">that</span></span></span><span>he was hiding died with him. He is the only person <span class="inline-block mx-1"><input type="text" class="border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(16)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">whom</span></span></span><span>I have ever truly feared.</span></p></div></section><section id="section-passive" class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"><div class="bg-emerald-50 p-6 border-b border-emerald-100"><h2 class="text-xl font-bold text-emerald-900 mb-2">3. Passive Voice</h2><div class="space-y-2 text-sm text-gray-700"><p><strong>Formula:</strong> <em>Be + Past Participle</em>. (Tense is shown in the 'Be' verb).</p><p><strong>Why?</strong> When the action is more important than the doer, or the doer is unknown.</p><p><strong>Challenge:</strong> Watch out for continuous forms (being) and perfect forms (been).</p></div></div><div class="p-6 space-y-6"><p class="text-sm font-semibold text-gray-500 uppercase">Change the following active sentences into passive:</p><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">1. Someone has stolen my credit card.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type passive form here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> my credit card has been stolen</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">2. They are repairing the bridge at the moment.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type passive form here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> the bridge is being repaired at the moment</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">3. Did the noise frighten the children?</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type passive form here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> were the children frightened by the noise</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">4. People say that he is a genius.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type passive form here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> it is said that he is a genius</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">5. We must finish this report by noon.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type passive form here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> this report must be finished by noon</div></div></div></section><section id="section-reported" class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"><div class="bg-amber-50 p-6 border-b border-amber-100"><h2 class="text-xl font-bold text-amber-900 mb-2">4. Reported Speech</h2><div class="space-y-2 text-sm text-gray-700"><p><strong>Backshift:</strong> Present -&gt; Past, Past -&gt; Past Perfect, Will -&gt; Would.</p><p><strong>Time/Place:</strong> Now -&gt; Then, Here -&gt; There, Tomorrow -&gt; The next day, Yesterday -&gt; The day before.</p></div></div><div class="p-6 space-y-6"><p class="text-sm font-semibold text-gray-500 uppercase">Rewrite in reported speech:</p><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">1. "I am working on a new project," said Sarah.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> sarah said that she was working on a new project</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">2. "We visited Japan last year," they told me.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> they told me that they had visited japan the year before</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">3. "Will you help me?" she asked him.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> she asked him if he would help her</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">4. "Don't touch the wire!" the electrician warned us.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> the electrician warned us not to touch the wire</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">5. "Where is the nearest station?" the tourist asked.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> the tourist asked where the nearest station was</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">6. "I have never been to Paris," he admitted.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> he admitted that he had never been to paris</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">7. "I must leave now," she said.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> she said that she had to leave then</div></div><div class="bg-gray-50 p-4 rounded-lg"><p class="text-gray-800 font-medium mb-2">8. "Who called you yesterday?" mom asked.</p><input type="text" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                border-red-300 bg-red-50
                                            " placeholder="Type reported speech here..." value="" disabled=""><div class="mt-2 text-sm text-green-700"><strong>Correct:</strong> mom asked who had called me the day before</div></div></div></section><section id="section-conditionals" class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48"><div class="bg-purple-50 p-6 border-b border-purple-100"><h2 class="text-xl font-bold text-purple-900 mb-2">5. Conditionals (Zero, 1st, 2nd, 3rd)</h2><div class="space-y-2 text-sm text-gray-700"><p><strong>Zero Conditional:</strong> <em>If + Present, Present</em>. General truths/facts. <br><span class="text-xs text-gray-500">Ex: If you heat ice, it melts.</span></p><p><strong>1st Conditional:</strong> <em>If + Present, Will + Verb</em>. Real possibilities in future. <br><span class="text-xs text-gray-500">Ex: If it rains, I will stay home.</span></p><p><strong>2nd Conditional:</strong> <em>If + Past Simple, Would + Verb</em>. Unreal/Imaginary present. <br><span class="text-xs text-gray-500">Ex: If I were rich, I would travel. (I am not rich).</span></p><p><strong>3rd Conditional:</strong> <em>If + Past Perfect, Would have + PP</em>. Regrets about the past. <br><span class="text-xs text-gray-500">Ex: If I had known, I would have come. (I didn't know).</span></p></div></div><div class="p-8 leading-relaxed text-lg serif text-gray-800"><h3 class="font-bold text-center mb-6 text-gray-400 uppercase tracking-widest text-sm font-sans">The Unexpected Journey</h3><p class="text-justify"><span class="text-sm block mb-4 text-gray-500 font-sans italic">Fill in the blanks with the correct form of the verbs in parentheses.</span><span>Last week was a disaster. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(1)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">had checked</span></span></span><span> (check) the weather report, I would have stayed home. But I didn't. I drove to the beach. If you <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(2)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">drive</span></span></span><span> (drive) during a storm, it is usually dangerous. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(3)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">were</span></span></span><span> (be) a better driver, I might not have crashed. But I did. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(4)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">hadn't worn</span></span></span><span> (not/wear) my seatbelt, I would have been seriously hurt. Now I need a new car. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(5)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">have</span></span></span><span> (have) enough money next month, I will buy a Tesla. But I am currently broke. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(6)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">won</span></span></span><span> (win) the lottery today, I would buy a helicopter instead. My mom always says: 'If you <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(7)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">work</span></span></span><span> (work) hard, you succeed.' So I will work hard. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(8)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">get</span></span></span><span> (get) a promotion soon, I will be happy. I really regret not studying mechanics in school. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(9)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">had studied</span></span></span><span> (study) cars back then, I would have fixed the engine myself. I often imagine my life differently. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(10)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">lived</span></span></span><span> (live) in the city center, I wouldn't need a car at all. Anyway, if the bus <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(11)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">arrives</span></span></span><span> (arrive) on time tomorrow, I won't be late for work. By the way, did you know that if water <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(12)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">freezes</span></span></span><span> (freeze), it expands? Random fact. Back to my story: If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(13)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">had known</span></span></span><span> (know) about the traffic jam yesterday, I would have taken the train. If I <span class="inline-block mx-1"><input type="text" class="border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            border-red-500 text-red-700
                                                        " placeholder="(14)" value="" disabled=""><span class="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">were</span></span></span><span> (be) the president, I would fix all the roads immediately.</span></p></div></section><div class="flex justify-center pb-12"><button class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-4 px-12 rounded-full shadow-lg transition">Reset / Try Again</button></div><footer class="text-center text-gray-400 text-sm"><p> English with Barbod | Designed for Adel</p></footer></main></div></div>

<script type="text/babel">

    const { useState, useEffect } = React;

    // --- DATA & CONTENT ---

    const sections = {
        tenses: {
            title: "1. Present, Past, & Future Perfect",
            review: (
                <div className="space-y-2 text-sm text-gray-700">
                    <p><strong>Present Perfect:</strong> <em>Have/Has + PP</em>. Unspecified time in the past, or started in past and continues to now. <br/><span className="text-xs text-gray-500">Ex: I have seen that movie.</span></p>
                    <p><strong>Past Perfect:</strong> <em>Had + PP</em>. The "past of the past". An action finished before another past action. <br/><span className="text-xs text-gray-500">Ex: When I arrived, the train had left.</span></p>
                    <p><strong>Future Perfect:</strong> <em>Will have + PP</em>. An action that will be completed before a specific time in the future. <br/><span className="text-xs text-gray-500">Ex: By 2030, humans will have landed on Mars.</span></p>
                </div>
            ),
            questions: [
                {
                    id: "t1",
                    q: "By the time the CEO arrives at the meeting tomorrow, the board ______ the decision.",
                    options: ["will make", "will have made", "had made", "has made"],
                    correct: "will have made",
                    explanation: "Future Perfect: An action completed before another future event."
                },
                {
                    id: "t2",
                    q: "I realized I ______ my wallet at home only after I had ordered my meal.",
                    options: ["left", "have left", "had left", "was leaving"],
                    correct: "had left",
                    explanation: "Past Perfect: Leaving the wallet happened before realizing (past of the past)."
                },
                {
                    id: "t3",
                    q: "She ______ as a software engineer for ten years next month.",
                    options: ["will have been working", "has worked", "had worked", "is working"],
                    correct: "will have been working",
                    explanation: "Future Perfect Continuous: Emphasizes the duration up to a specific future point."
                },
                {
                    id: "t4",
                    q: "Look at the pavement! It is wet. It ______.",
                    options: ["rained", "had rained", "has rained", "was raining"],
                    correct: "has rained",
                    explanation: "Present Perfect: Result is visible now (wet pavement), time is unspecified."
                },
                {
                    id: "t5",
                    q: "Nobody ______ from him since he moved to Alaska.",
                    options: ["heard", "has heard", "had heard", "will have heard"],
                    correct: "has heard",
                    explanation: "Present Perfect: Using 'since' to connect past to present."
                },
                {
                    id: "t6",
                    q: "The film ______ by the time we got to the cinema.",
                    options: ["already started", "has already started", "had already started", "would start"],
                    correct: "had already started",
                    explanation: "Past Perfect: The film started before we arrived (past action)."
                },
                {
                    id: "t7",
                    q: "Do you think we ______ the project by the deadline?",
                    options: ["finish", "will have finished", "have finished", "had finished"],
                    correct: "will have finished",
                    explanation: "Future Perfect: completion by a deadline."
                },
                {
                    id: "t8",
                    q: "Whatever happened that night ______ a mystery to this day.",
                    options: ["remained", "had remained", "has remained", "will remain"],
                    correct: "has remained",
                    explanation: "Present Perfect: Started in the past and continues to be true today."
                },
                {
                    id: "t9",
                    q: "Before he became a teacher, he ______ in the army for five years.",
                    options: ["served", "has served", "had served", "serves"],
                    correct: "had served",
                    explanation: "Past Perfect: Service happened before becoming a teacher (past event)."
                }
            ]
        },
        relative: {
            title: "2. Relative Clauses (Complete)",
            review: (
                <div className="space-y-2 text-sm text-gray-700">
                    <p><strong>Defining vs Non-defining:</strong> Commas for extra info (Non-defining). No commas for essential info.</p>
                    <p><strong>Pronouns:</strong> <em>Who</em> (people), <em>Which</em> (things), <em>That</em> (both, informal/defining), <em>Whose</em> (possession), <em>Whom</em> (objective people).</p>
                    <p><strong>Prepositions:</strong> Can go before 'which' or 'whom' (formal) or at the end (informal). <br/><span className="text-xs text-gray-500">Ex: The house <strong>in which</strong> I live... / The house <strong>(that)</strong> I live <strong>in</strong>...</span></p>
                </div>
            ),
            passage: {
                text: [
                    "The Old Manor, ", // 0
                    "owner passed away last week, is now for sale. It is a place ", // 1
                    "many legends have been written about. The detective ", // 2
                    "investigated the case, ", // 3
                    "name is Sherlock, found a clue. The room ", // 4
                    "the body was found was locked from the inside. The weapon, ", // 5
                    "was a heavy candlestick, lay on the floor. The maid, to ", // 6
                    "the police spoke first, seemed nervous. There was a letter on the desk ", // 7
                    "content was mysterious. The reason ", // 8
                    "he committed the crime remains unknown. The day ", // 9
                    "it happened was rainy. The man ", // 10
                    "I was telling you about is the prime suspect. This is the case ", // 11
                    "I am most interested in. The villagers, many of ", // 12
                    "are superstitious, avoid the house. The company ", // 13
                    "bought the land plans to demolish it. The secret ", // 14
                    "he was hiding died with him. He is the only person ", // 15
                    "I have ever truly feared." // 16
                ],
                // Acceptable answers logic handled in component
            }
        },
        passive: {
            title: "3. Passive Voice",
            review: (
                <div className="space-y-2 text-sm text-gray-700">
                    <p><strong>Formula:</strong> <em>Be + Past Participle</em>. (Tense is shown in the 'Be' verb).</p>
                    <p><strong>Why?</strong> When the action is more important than the doer, or the doer is unknown.</p>
                    <p><strong>Challenge:</strong> Watch out for continuous forms (being) and perfect forms (been).</p>
                </div>
            ),
            questions: [
                { id: "p1", q: "Someone has stolen my credit card.", a: ["my credit card has been stolen"], hint: "Present Perfect Passive" },
                { id: "p2", q: "They are repairing the bridge at the moment.", a: ["the bridge is being repaired at the moment", "the bridge is being repaired"], hint: "Present Continuous Passive" },
                { id: "p3", q: "Did the noise frighten the children?", a: ["were the children frightened by the noise", "were the children frightened"], hint: "Past Simple Question" },
                { id: "p4", q: "People say that he is a genius.", a: ["it is said that he is a genius", "he is said to be a genius"], hint: "Impersonal Passive" },
                { id: "p5", q: "We must finish this report by noon.", a: ["this report must be finished by noon"], hint: "Modal Passive" }
            ]
        },
        reported: {
            title: "4. Reported Speech",
            review: (
                <div className="space-y-2 text-sm text-gray-700">
                    <p><strong>Backshift:</strong> Present -> Past, Past -> Past Perfect, Will -> Would.</p>
                    <p><strong>Time/Place:</strong> Now -> Then, Here -> There, Tomorrow -> The next day, Yesterday -> The day before.</p>
                </div>
            ),
            questions: [
                { id: "r1", q: '"I am working on a new project," said Sarah.', a: ["sarah said that she was working on a new project", "sarah said she was working on a new project"] },
                { id: "r2", q: '"We visited Japan last year," they told me.', a: ["they told me that they had visited japan the year before", "they told me they had visited japan the previous year"] },
                { id: "r3", q: '"Will you help me?" she asked him.', a: ["she asked him if he would help her", "she asked him whether he would help her"] },
                { id: "r4", q: '"Don\'t touch the wire!" the electrician warned us.', a: ["the electrician warned us not to touch the wire"] },
                { id: "r5", q: '"Where is the nearest station?" the tourist asked.', a: ["the tourist asked where the nearest station was"] },
                { id: "r6", q: '"I have never been to Paris," he admitted.', a: ["he admitted that he had never been to paris", "he admitted he had never been to paris"] },
                { id: "r7", q: '"I must leave now," she said.', a: ["she said that she had to leave then", "she said she had to leave then"] },
                { id: "r8", q: '"Who called you yesterday?" mom asked.', a: ["mom asked who had called me the day before", "mom asked who had called me the previous day"] }
            ]
        },
        conditionals: {
            title: "5. Conditionals (Zero, 1st, 2nd, 3rd)",
            review: (
                <div className="space-y-2 text-sm text-gray-700">
                    <p><strong>Zero Conditional:</strong> <em>If + Present, Present</em>. General truths/facts. <br/><span className="text-xs text-gray-500">Ex: If you heat ice, it melts.</span></p>
                    <p><strong>1st Conditional:</strong> <em>If + Present, Will + Verb</em>. Real possibilities in future. <br/><span className="text-xs text-gray-500">Ex: If it rains, I will stay home.</span></p>
                    <p><strong>2nd Conditional:</strong> <em>If + Past Simple, Would + Verb</em>. Unreal/Imaginary present. <br/><span className="text-xs text-gray-500">Ex: If I were rich, I would travel. (I am not rich).</span></p>
                    <p><strong>3rd Conditional:</strong> <em>If + Past Perfect, Would have + PP</em>. Regrets about the past. <br/><span className="text-xs text-gray-500">Ex: If I had known, I would have come. (I didn't know).</span></p>
                </div>
            ),
            passage: {
                text: [
                    "Last week was a disaster. If I ", // 0
                    " (check) the weather report, I would have stayed home. But I didn't. I drove to the beach. If you ", // 1
                    " (drive) during a storm, it is usually dangerous. If I ", // 2
                    " (be) a better driver, I might not have crashed. But I did. If I ", // 3
                    " (not/wear) my seatbelt, I would have been seriously hurt. Now I need a new car. If I ", // 4
                    " (have) enough money next month, I will buy a Tesla. But I am currently broke. If I ", // 5
                    " (win) the lottery today, I would buy a helicopter instead. My mom always says: 'If you ", // 6
                    " (work) hard, you succeed.' So I will work hard. If I ", // 7
                    " (get) a promotion soon, I will be happy. I really regret not studying mechanics in school. If I ", // 8
                    " (study) cars back then, I would have fixed the engine myself. I often imagine my life differently. If I ", // 9
                    " (live) in the city center, I wouldn't need a car at all. Anyway, if the bus ", // 10
                    " (arrive) on time tomorrow, I won't be late for work. By the way, did you know that if water ", // 11
                    " (freeze), it expands? Random fact. Back to my story: If I ", // 12
                    " (know) about the traffic jam yesterday, I would have taken the train. If I ", // 13
                    " (be) the president, I would fix all the roads immediately." // 14
                ],
                answers: [
                    ["had checked"], 
                    ["drive"], 
                    ["were", "was"], 
                    ["hadn't worn", "had not worn"], 
                    ["have"], 
                    ["won"], 
                    ["work"], 
                    ["get"], 
                    ["had studied"], 
                    ["lived"], 
                    ["arrives"], 
                    ["freezes"], 
                    ["had known"], 
                    ["were", "was"]
                ]
            }
        }
    };

    // --- HELPER FUNCTIONS ---

    const normalizeText = (text) => {
        return text.toLowerCase()
            .replace(/[.,/#!$%^&*;:{}=\-_`~()?"']/g, "") // remove punctuation
            .replace(/\s{2,}/g, " ") // remove double spaces
            .trim();
    };

    const checkTextAnswer = (userAnswer, validAnswers) => {
        const normalizedUser = normalizeText(userAnswer);
        return validAnswers.some(valid => normalizeText(valid) === normalizedUser);
    };

    // --- MAIN COMPONENT ---

    function App() {
        // State storage
        const [answers, setAnswers] = useState({});
        const [submitted, setSubmitted] = useState(false);
        const [score, setScore] = useState(0);

        // Update answer helper
        const handleAnswer = (section, id, value) => {
            if (submitted) return; // Prevent changes after submit
            setAnswers(prev => ({
                ...prev,
                [`${section}-${id}`]: value
            }));
        };

        const calculateScore = () => {
            let tensesPts = 0;
            sections.tenses.questions.forEach(q => {
                if (answers[`tenses-${q.id}`] === q.correct) tensesPts++;
            });

            let relativePts = 0;
            const relAccept = [
                ["whose"], ["about which", "which", "that"], ["who", "that"], ["whose"], 
                ["where", "in which"], ["which"], ["whom"], ["whose", "of which"], 
                ["why"], ["when", "on which"], ["whom", "who", "that"], ["which", "that"], 
                ["whom"], ["which", "that"], ["that", "which"], ["whom", "who", "that"]
            ];
            relAccept.forEach((accepts, idx) => {
                const userAns = answers[`relative-${idx}`];
                if (userAns && checkTextAnswer(userAns, accepts)) relativePts++;
            });

            let passivePts = 0;
            sections.passive.questions.forEach(q => {
                if (answers[`passive-${q.id}`] && checkTextAnswer(answers[`passive-${q.id}`], q.a)) passivePts++;
            });

            let reportedPts = 0;
            sections.reported.questions.forEach(q => {
                if (answers[`reported-${q.id}`] && checkTextAnswer(answers[`reported-${q.id}`], q.a)) reportedPts++;
            });

            let conditionalsPts = 0;
            sections.conditionals.passage.answers.forEach((accepts, idx) => {
                const userAns = answers[`conditionals-${idx}`];
                if (userAns && checkTextAnswer(userAns, accepts)) conditionalsPts++;
            });

            const total = tensesPts + relativePts + passivePts + reportedPts + conditionalsPts;

            setScore(total);
            setSubmitted(true);
            
            // Scroll to top to see score
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        const downloadPractice = () => {
            const element = document.createElement("a");
            const file = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
            element.href = URL.createObjectURL(file);
            element.download = "EnglishWithBarbod_Practice_Adel.html";
            document.body.appendChild(element);
            element.click();
        };

        // Scroll to section handler
        const scrollToSection = (id) => {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        };

        return (
            <div className="min-h-screen pb-20">
                {/* HEADER & NAV */}
                <header className="bg-white shadow-md sticky top-0 z-50 transition-all">
                    {/* Top Row: Brand & Download */}
                    <div className="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center border-b border-gray-100">
                        <div>
                            <h1 className="text-2xl font-bold text-blue-900">English with Barbod</h1>
                            <p className="text-sm text-gray-500">Advanced Practice for Adel</p>
                        </div>
                        <button 
                            onClick={downloadPractice}
                            className="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2"
                        >
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                            Download App
                        </button>
                    </div>

                    {/* Navigation Row */}
                    <div className="bg-gray-50 border-b border-gray-200">
                        <div className="max-w-4xl mx-auto px-4 py-2 overflow-x-auto whitespace-nowrap flex gap-2 no-scrollbar">
                            <button onClick={() => scrollToSection('section-tenses')} className="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 transition shadow-sm">
                                1. Perfect Tenses
                            </button>
                            <button onClick={() => scrollToSection('section-relative')} className="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-indigo-50 hover:text-indigo-700 hover:border-indigo-200 transition shadow-sm">
                                2. Relative Clauses
                            </button>
                            <button onClick={() => scrollToSection('section-passive')} className="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 transition shadow-sm">
                                3. Passive Voice
                            </button>
                            <button onClick={() => scrollToSection('section-reported')} className="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-amber-50 hover:text-amber-700 hover:border-amber-200 transition shadow-sm">
                                4. Reported Speech
                            </button>
                            <button onClick={() => scrollToSection('section-conditionals')} className="px-4 py-1.5 rounded-full text-sm font-medium bg-white border border-gray-200 text-gray-600 hover:bg-purple-50 hover:text-purple-700 hover:border-purple-200 transition shadow-sm">
                                5. Conditionals
                            </button>
                        </div>
                    </div>
                </header>

                <main className="max-w-4xl mx-auto px-6 py-8 space-y-12">
                    
                    {/* SCORE BOARD */}
                    {submitted && (
                        <div className="bg-blue-900 text-white p-6 rounded-xl shadow-lg text-center animate-fade-in mb-8">
                            <h2 className="text-3xl font-bold mb-2">Result</h2>
                            <p className="text-xl">You scored {score} out of 52</p>
                            <p className="text-blue-200 text-sm mt-2">{(score/52 * 100).toFixed(0)}% Accuracy</p>
                        </div>
                    )}

                    {/* SECTION 1: PERFECT TENSES */}
                    <section id="section-tenses" className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48">
                        <div className="bg-blue-50 p-6 border-b border-blue-100">
                            <h2 className="text-xl font-bold text-blue-900 mb-2">{sections.tenses.title}</h2>
                            {sections.tenses.review}
                        </div>
                        <div className="p-6 space-y-8">
                            {sections.tenses.questions.map((q, idx) => (
                                <div key={q.id} className="border-b border-gray-100 pb-6 last:border-0 last:pb-0">
                                    <p className="font-medium text-gray-800 mb-3">{idx + 1}. {q.q}</p>
                                    <div className="space-y-2">
                                        {q.options.map(opt => {
                                            const isSelected = answers[`tenses-${q.id}`] === opt;
                                            const isCorrect = submitted && opt === q.correct;
                                            const isWrong = submitted && isSelected && opt !== q.correct;
                                            
                                            return (
                                                <label key={opt} 
                                                    className={`flex items-center p-3 rounded-lg border cursor-pointer transition
                                                    ${isSelected ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-blue-300'}
                                                    ${isCorrect ? 'correct-answer' : ''}
                                                    ${isWrong ? 'wrong-answer' : ''}
                                                `}>
                                                    <input 
                                                        type="radio" 
                                                        name={`tenses-${q.id}`} 
                                                        value={opt}
                                                        disabled={submitted}
                                                        onChange={(e) => handleAnswer('tenses', q.id, e.target.value)}
                                                        className="h-4 w-4 text-blue-600 mr-3"
                                                    />
                                                    {opt}
                                                </label>
                                            )
                                        })}
                                    </div>
                                    {submitted && (
                                        <div className="mt-2 text-sm text-blue-800 bg-blue-50 p-2 rounded">
                                            <strong>Explanation:</strong> {q.explanation}
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    </section>

                    {/* SECTION 2: RELATIVE CLAUSES */}
                    <section id="section-relative" className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48">
                        <div className="bg-indigo-50 p-6 border-b border-indigo-100">
                            <h2 className="text-xl font-bold text-indigo-900 mb-2">{sections.relative.title}</h2>
                            {sections.relative.review}
                        </div>
                        <div className="p-8 leading-relaxed text-lg serif text-gray-800">
                            <h3 className="font-bold text-center mb-6 text-gray-400 uppercase tracking-widest text-sm font-sans">The Mystery of the Manor</h3>
                            <p className="text-justify">
                                {sections.relative.passage.text.map((part, i) => {
                                    const relAccept = [
                                        ["whose"], ["about which", "which", "that"], ["who", "that"], ["whose"], 
                                        ["where", "in which"], ["which"], ["whom"], ["whose", "of which"], 
                                        ["why"], ["when", "on which"], ["whom", "who", "that"], ["which", "that"], 
                                        ["whom"], ["which", "that"], ["that", "which"], ["whom", "who", "that"]
                                    ];
                                    
                                    const userVal = answers[`relative-${i}`] || "";
                                    const isCorrect = submitted && i < relAccept.length && checkTextAnswer(userVal, relAccept[i]);
                                    
                                    return (
                                        <span key={i}>
                                            {part}
                                            {i < relAccept.length && (
                                                <span className="inline-block mx-1">
                                                    <input 
                                                        type="text" 
                                                        value={userVal}
                                                        disabled={submitted}
                                                        onChange={(e) => handleAnswer('relative', i, e.target.value)}
                                                        className={`border-b-2 w-24 text-center focus:outline-none focus:border-indigo-500 bg-transparent font-sans text-base
                                                            ${submitted ? (isCorrect ? 'border-green-500 text-green-700 font-bold' : 'border-red-500 text-red-700') : 'border-gray-300'}
                                                        `}
                                                        placeholder={`(${i+1})`}
                                                    />
                                                    {submitted && !isCorrect && (
                                                        <span className="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">
                                                            {relAccept[i][0]}
                                                        </span>
                                                    )}
                                                </span>
                                            )}
                                        </span>
                                    )
                                })}
                            </p>
                        </div>
                    </section>

                    {/* SECTION 3: PASSIVE VOICE */}
                    <section id="section-passive" className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48">
                        <div className="bg-emerald-50 p-6 border-b border-emerald-100">
                            <h2 className="text-xl font-bold text-emerald-900 mb-2">{sections.passive.title}</h2>
                            {sections.passive.review}
                        </div>
                        <div className="p-6 space-y-6">
                            <p className="text-sm font-semibold text-gray-500 uppercase">Change the following active sentences into passive:</p>
                            {sections.passive.questions.map((q, i) => {
                                const val = answers[`passive-${q.id}`] || "";
                                const isCorrect = submitted && checkTextAnswer(val, q.a);
                                return (
                                    <div key={q.id} className="bg-gray-50 p-4 rounded-lg">
                                        <p className="text-gray-800 font-medium mb-2">{i+1}. {q.q}</p>
                                        <input 
                                            type="text" 
                                            className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-emerald-200 outline-none
                                                ${submitted ? (isCorrect ? 'border-green-500 bg-green-50' : 'border-red-300 bg-red-50') : 'border-gray-300'}
                                            `}
                                            placeholder="Type passive form here..."
                                            value={val}
                                            disabled={submitted}
                                            onChange={(e) => handleAnswer('passive', q.id, e.target.value)}
                                        />
                                        {submitted && !isCorrect && (
                                            <div className="mt-2 text-sm text-green-700">
                                                <strong>Correct:</strong> {q.a[0]}
                                            </div>
                                        )}
                                        {!submitted && <p className="text-xs text-gray-400 mt-1 italic">Hint: {q.hint}</p>}
                                    </div>
                                )
                            })}
                        </div>
                    </section>

                    {/* SECTION 4: REPORTED SPEECH */}
                    <section id="section-reported" className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48">
                        <div className="bg-amber-50 p-6 border-b border-amber-100">
                            <h2 className="text-xl font-bold text-amber-900 mb-2">{sections.reported.title}</h2>
                            {sections.reported.review}
                        </div>
                        <div className="p-6 space-y-6">
                            <p className="text-sm font-semibold text-gray-500 uppercase">Rewrite in reported speech:</p>
                            {sections.reported.questions.map((q, i) => {
                                const val = answers[`reported-${q.id}`] || "";
                                const isCorrect = submitted && checkTextAnswer(val, q.a);
                                return (
                                    <div key={q.id} className="bg-gray-50 p-4 rounded-lg">
                                        <p className="text-gray-800 font-medium mb-2">{i+1}. {q.q}</p>
                                        <input 
                                            type="text" 
                                            className={`w-full p-3 border rounded-lg focus:ring-2 focus:ring-amber-200 outline-none
                                                ${submitted ? (isCorrect ? 'border-green-500 bg-green-50' : 'border-red-300 bg-red-50') : 'border-gray-300'}
                                            `}
                                            placeholder="Type reported speech here..."
                                            value={val}
                                            disabled={submitted}
                                            onChange={(e) => handleAnswer('reported', q.id, e.target.value)}
                                        />
                                        {submitted && !isCorrect && (
                                            <div className="mt-2 text-sm text-green-700">
                                                <strong>Correct:</strong> {q.a[0]}
                                            </div>
                                        )}
                                    </div>
                                )
                            })}
                        </div>
                    </section>

                     {/* SECTION 5: CONDITIONALS (NEW) */}
                     <section id="section-conditionals" className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden scroll-mt-48">
                        <div className="bg-purple-50 p-6 border-b border-purple-100">
                            <h2 className="text-xl font-bold text-purple-900 mb-2">{sections.conditionals.title}</h2>
                            {sections.conditionals.review}
                        </div>
                        <div className="p-8 leading-relaxed text-lg serif text-gray-800">
                            <h3 className="font-bold text-center mb-6 text-gray-400 uppercase tracking-widest text-sm font-sans">The Unexpected Journey</h3>
                            <p className="text-justify">
                                <span className="text-sm block mb-4 text-gray-500 font-sans italic">Fill in the blanks with the correct form of the verbs in parentheses.</span>
                                {sections.conditionals.passage.text.map((part, i) => {
                                    const acceptedAnswers = sections.conditionals.passage.answers;
                                    const userVal = answers[`conditionals-${i}`] || "";
                                    
                                    // Don't render an input after the last text fragment if it's just closing text
                                    const isLast = i === sections.conditionals.passage.text.length - 1;
                                    
                                    // Check correctness
                                    const isCorrect = submitted && !isLast && checkTextAnswer(userVal, acceptedAnswers[i]);

                                    return (
                                        <span key={i}>
                                            {part}
                                            {!isLast && (
                                                <span className="inline-block mx-1">
                                                    <input 
                                                        type="text" 
                                                        value={userVal}
                                                        disabled={submitted}
                                                        onChange={(e) => handleAnswer('conditionals', i, e.target.value)}
                                                        className={`border-b-2 w-32 text-center focus:outline-none focus:border-purple-500 bg-transparent font-sans text-base
                                                            ${submitted ? (isCorrect ? 'border-green-500 text-green-700 font-bold' : 'border-red-500 text-red-700') : 'border-gray-300'}
                                                        `}
                                                        placeholder={`(${i+1})`}
                                                    />
                                                    {submitted && !isCorrect && (
                                                        <span className="block text-xs text-green-600 font-sans absolute -mt-10 bg-white p-1 border rounded shadow-lg z-10">
                                                            {acceptedAnswers[i][0]}
                                                        </span>
                                                    )}
                                                </span>
                                            )}
                                        </span>
                                    )
                                })}
                            </p>
                        </div>
                    </section>

                    {/* ACTIONS */}
                    <div className="flex justify-center pb-12">
                        {!submitted ? (
                            <button 
                                onClick={calculateScore}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-12 rounded-full shadow-lg transform hover:scale-105 transition text-lg"
                            >
                                Submit & Grade
                            </button>
                        ) : (
                            <button 
                                onClick={() => window.location.reload()}
                                className="bg-gray-600 hover:bg-gray-700 text-white font-bold py-4 px-12 rounded-full shadow-lg transition"
                            >
                                Reset / Try Again
                            </button>
                        )}
                    </div>

                    <footer className="text-center text-gray-400 text-sm">
                        <p> English with Barbod | Designed for Adel</p>
                    </footer>
                </main>
            </div>
        );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);

</script>

</body></html>